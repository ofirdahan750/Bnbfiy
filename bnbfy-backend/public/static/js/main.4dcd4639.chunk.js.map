{"version":3,"sources":["store/reducers/systemReducer.js","store/reducers/userReducer.js","store/reducers/stayReducer.js","store/reducers/orderReducer.js","store/reducers/tripReducer.js","store/reducers/index.js","store/store.js","services/utilService.js","cmps/ExploreCmps/ImgCarusel.jsx","cmps/ExploreCmps/StayPreview.jsx","cmps/ExploreCmps/StayList.jsx","cmps/ExploreCmps/StayFilter.jsx","services/asyncStorageService.js","services/http.service.js","services/stayService.js","store/actions/stayActions.js","assets/svg/loader/Infinity-1s-264px.svg","cmps/commonCmps/PageLoader.jsx","pages/StayApp.jsx","services/orderService.js","store/actions/orderActions.js","cmps/StayDetailsCmps/GoogleMap.jsx","cmps/StayDetailsCmps/StayReviews.jsx","assets/svg/amenties/kitchen.svg","assets/svg/amenties/TV.svg","assets/svg/amenties/Pets_allowed.svg","assets/svg/amenties/Elevator.svg","assets/svg/amenties/Wifi.svg","assets/svg/amenties/Gym.svg","assets/svg/amenties/smoking.svg","assets/svg/amenties/hot_tub.svg","assets/svg/amenties/Air_conditioning.svg","cmps/StayDetailsCmps/AmentiesList.jsx","cmps/StayDetailsCmps/DateRangePickerDetails.jsx","cmps/StayDetailsCmps/BookingSummery.jsx","cmps/StayDetailsCmps/GuestChooseDetails.jsx","cmps/StayDetailsCmps/BookingModal.jsx","cmps/StayDetailsCmps/AddReview.jsx","assets/svg/appHeader/emptyAvatar.svg","pages/StayDetails.jsx","pages/StayEdit.jsx","assets/svg/button/search_btn.svg","cmps/HomeCmps/CitySearchModal.jsx","cmps/HomeCmps/GuestChoose.jsx","cmps/commonCmps/DateRangePicker.jsx","cmps/HomeCmps/TripSettings.jsx","store/actions/tripActions.js","assets/img/popular/Madrid.jpg","assets/img/popular/spain.jpg","assets/img/popular/TelAviv.jpg","assets/img/popular/Paris.jpg","assets/img/popular/newYork.jpg","cmps/HomeCmps/PopularPlaces.jsx","pages/HomePage.jsx","pages/Orders.jsx","services/userService.js","store/actions/userActions.js","pages/LoginSignup.jsx","routes.js","cmps/UserMenu.jsx","assets/svg/appHeader/hamburger.svg","cmps/AppHeader.jsx","assets/img/Logo/logo-fit.png","cmps/AppFooter.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["initialState","isLoading","localLoggedinUser","sessionStorage","loggedinUser","JSON","parse","loggedInUser","users","stays","currStay","orders","trip","error","rootReducer","combineReducers","systemModule","state","action","type","userModule","user","stayModule","stay","filter","_id","stayId","reviews","review","orderModule","console","log","saveOrder","order","orderId","status","tripModule","err","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","utilService","sortByRate","map","avgRate","calRate","sort","a","b","getAmount","lngVal","isFilterSearch","amount","lodash","reduce","acc","n","makeId","length","txt","possible","i","charAt","Math","floor","random","createOrder","createdAt","Date","now","buyer","totalPrice","startDate","endDate","guests","adults","guest","kids","infants","name","price","picture","imgUrls","hostId","sortByDate","isToSeeAll","slice","calAvgRate","meanBy","rate","toFixed","ImgCarusel","imgs","autoPlay","indicatorIconButtonProps","style","fontSize","color","activeIndicatorIconButtonProps","margin","indicatorContainerProps","marginTop","textAlign","backgroundColor","timeout","img","index","to","borderRadius","src","StayPreview","reviewLength","className","summary","substring","loc","city","StayList","isTopRated","sortedRateStay","useStyles","makeStyles","theme","root","width","spacing","height","AirbnbSlider","withStyles","padding","thumb","border","marginLeft","boxShadow","marginRight","active","track","rail","opacity","Slider","StayFilter","classes","Typography","gutterBottom","defaultValue","Infinity","valueLabelDisplay","min","max","scale","x","storageService","query","get","post","put","remove","entityType","items","entities","localStorage","getItem","_save","Promise","resolve","entityId","find","entity","newEntity","_makeId","unshift","updatedEntity","idx","findIndex","splice","setItem","stringify","text","BASE_URL","axios","Axios","create","withCredentials","httpService","endpoint","data","ajax","method","url","params","res","dir","response","location","assign","require","stayService","getStayById","save","loadStays","dispatch","Component","StayApp","useState","isPriceFilterOpen","setPriceFilterModal","filteredStays","setStay","useDispatch","useParams","useSelector","useEffect","getFilterStays","useCallback","stayFiltered","guestTotal","capacity","stayLength","moment","format","onClick","pervToggle","STORAGE_KEY","orderService","getOrderById","getOrderByHost","setStatus","filteredOrders","loadOrders","overflowX","overflowY","containerStyle","position","_GoogleMap","lat","props","lng","onMapClicked","ev","setState","latLng","this","google","zoom","initialCenter","center","GoogleMap","GoogleApiWrapper","apiKey","StayReviews","sortedReviews","by","fullname","Rating","value","readOnly","id","AmentiesList","currImg","aments","amenity","Kitchen","Wifi","Gym","Pets_allowed","TV","Elevator","Air_conditining","Smoking","Hot_tub","getAmenityImg","alt","DateRangePickerDetails","date","setDateRange","dates","start","end","openDatePicker","setDate","selected","onChange","update","selectsRange","minDate","monthsShown","inline","BookingSummery","daysNum","GuestChooseDetails","toggleChoose","guestUpdate","onGuestsUpdate","diff","disabled","BookingModal","isDatePickerOpen","isDatesPicked","isGuestChoose","isReserved","round","duration","asDays","prevState","onReserve","checkInDets","buttonRender","guestAmountCulc","guestAmount","AddReview","isReviewAddOpen","handleChange","preventDefault","field","target","onAddReview","addReview","onSubmit","placeholder","toggleAddReview","_StayDetails","modalOpen","onSeeAll","copyStay","saveStay","getAvgRage","tripeDetails","Swal","fire","title","html","timer","showConfirmButton","confirmButtonColor","timerProgressBar","match","loadStay","address","currStayImg","host","amenities","mapDispatchToProps","StayDetails","connect","StayEdit","CitySearchModal","countrys","onClickTxtModal","country","cursor","GuestChoose","DateRangePicker","onToggleChoose","_TripSettings","isGuestChooseOpen","isLocationChooseOpen","onFoucesModal","val","getAllStays","item","toLowerCase","includes","arr","self","indexOf","choose","onClearBtn","stopPropagation","filterPlaces","list","autoComplete","zIndex","top","right","split","updateTrip","search","TripSettings","currstay","PopularPlaces","popularLoc","pic","NewYork","Madrid","TelAviv","Paris","_Orders","afterOrderStatus","hostOrders","hostAvatar","hostName","getGuests","Object","values","getNights","orderStatus","orderStatusToSave","setOrderStatus","reservationTime","history","push","Fragment","TableContainer","component","Paper","Table","minWidth","TableHead","TableRow","TableCell","align","TableBody","scope","orderobj","Orders","userService","login","logout","signup","getUsers","getById","userId","getLoggedinUser","userCred","_saveLocalUser","clear","_LoginSignup","msg","loginCred","username","password","signupCred","loginHandleChange","signupHandleChange","doLogin","userCreds","doSignup","signupCreds","removeUser","loadUsers","signupSection","loginSection","routes","path","UserMenu","toggleProfile","_AppHeader","userProfileToggle","headerClass","getHeaderClass","pathname","isUserAvatar","exact","hamburger","AppHeader","withRouter","Footer","_App","route","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4dcd4639.chunk.js","sourcesContent":["const initialState = {\r\n  isLoading: false\r\n};\r\n\r\nexport function systemReducer (state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'LOADING_START':\r\n      return { ...state, isLoading: true }\r\n    case 'LOADING_DONE':\r\n      return { ...state, isLoading: false }\r\n    default: return state\r\n  }\r\n}\r\n\r\n","let localLoggedinUser = null\r\nif (sessionStorage.loggedinUser) localLoggedinUser = JSON.parse(sessionStorage.loggedinUser)\r\n\r\nconst initialState = {\r\n  loggedInUser: localLoggedinUser,\r\n  users: []\r\n}\r\n\r\nexport function userReducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case 'SET_USER':\r\n      return { ...state, loggedInUser: action.user }\r\n      case 'SET_USERS':\r\n        return { ...state, users: action.users }\r\n      default:\r\n        return state\r\n  }\r\n}\r\n","const initialState = {\r\n    stays: [],\r\n    currStay: null\r\n}\r\n\r\nexport function stayReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_STAYS':\r\n            return { ...state, stays: action.stays }\r\n        case 'SET_STAY':\r\n            return { ...state, currStay: action.stay }\r\n        case 'ADD_STAY':\r\n            return { ...state, stays: [action.stay, ...state.stays] }\r\n        case 'UPDATE_STAY':\r\n            return { ...state, stays: [action.stay, ...state.stays.filter(stay => action.stay._id !== stay._id)] }\r\n        case 'REMOVE_STAY':\r\n            return { ...state, stays: state.stays.filter(stay => stay._id !== action.stayId) }\r\n        case 'ADD_REVIEW':\r\n            return { ...state, currStay: { ...state.currStay, reviews: [...state.currStay.reviews, action.review] } }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","const initialState = {\r\n    orders: []\r\n}\r\n\r\nexport function orderReducer(state = initialState, action) {\r\n    switch (action.type) {\r\n        case 'SET_ORDERS':\r\n            return { ...state, orders: action.orders }\r\n        case 'ADD_ORDER':\r\n            console.log('action.saveOrder in reducer',action.saveOrder);\r\n            return { ...state, orders: [action.saveOrder, ...state.orders] }\r\n        case 'UPDATE_ORDER':\r\n            return { ...state, orders: [action.saveOrder, ...state.orders.filter(order => action.order._id !== order._id)] }\r\n\r\n        case 'REMOVE_ORDER':\r\n            return { ...state, orders: state.orders.filter(order => order._id !== action.orderId) }\r\n\r\n        case 'SET_STATUS':\r\n            return { ...state, order: { ...state.order, status: action.status } }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","const initialState = {\r\n    trip: null,\r\n    error: ''\r\n}\r\n\r\nexport function tripReducer(state = initialState, action = {}) {\r\n\r\n    switch (action.type) {\r\n        case 'SET_TRIP':\r\n            return { ...state, trip: { ...action.trip } }\r\n        case 'SET_ERR':\r\n            return { ...state, err: { ...action.err } }\r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers } from 'redux'\r\nimport { systemReducer } from './systemReducer'\r\nimport { userReducer } from './userReducer'\r\nimport { stayReducer } from './stayReducer'\r\nimport { orderReducer } from './orderReducer'\r\nimport { tripReducer } from './tripReducer'\r\n\r\nexport const rootReducer = combineReducers({\r\n    systemModule: systemReducer,\r\n    userModule: userReducer,\r\n    stayModule: stayReducer,\r\n    orderModule: orderReducer,\r\n    tripModule: tripReducer,\r\n})\r\n","import { createStore, applyMiddleware, compose } from 'redux'\r\n\r\nimport thunk from 'redux-thunk'\r\nimport { rootReducer } from './reducers'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n)\r\n","import lodash from 'lodash'\r\n\r\nexport const utilService = {\r\n    sortByRate,\r\n    getAmount,\r\n    makeId,\r\n    createOrder,\r\n    calRate,\r\n    sortByDate\r\n}\r\n\r\n\r\nfunction sortByRate(stays) {\r\n    const newArr = stays.map(stay => {\r\n        stay.avgRate = calRate(stay.reviews)\r\n        return stay\r\n    })\r\n    return newArr.sort((a, b) => b.avgRate - a.avgRate)\r\n}\r\nfunction sortByDate(reviews, isToSeeAll = false) {\r\n    reviews.sort((a, b) => b.createdAt - a.createdAt)\r\n    return (isToSeeAll) ? reviews : reviews.slice(0, 4)\r\n}\r\n\r\nfunction getAmount(lngVal, type, isFilterSearch = false) {\r\n \r\n    if (type === 'guest') {\r\n        const amount = lodash.reduce(lngVal, (acc, n) => {\r\n            return acc + n\r\n        });\r\n        if (amount > 1) return (isFilterSearch) ? `${amount} ${type}` : ` · ${amount} ${type}`;\r\n        if (amount === 1) return (isFilterSearch) ? `1 ${type}` : ` · 1 ${type}`;\r\n        return ''\r\n    }\r\n    if (lngVal > 1) return `${lngVal} ${type}s`;\r\n    if (lngVal === 1) return `1 ${type}`;\r\n    if (!lngVal) {\r\n        if (type === 'stay') return 'No stays to show';\r\n        if (type === 'review') return 'New!no reviews yet...';\r\n        return ''\r\n    }\r\n    return ''\r\n}\r\n\r\nfunction makeId(length = 6) {\r\n    var txt = '';\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    for (var i = 0; i < length; i++) {\r\n        txt += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n    return txt;\r\n}\r\n\r\n\r\nfunction createOrder(trip, user, stay,) {\r\n    const order = {\r\n        createdAt: Date.now(),\r\n        buyer: user,\r\n        totalPrice: trip.totalPrice,\r\n        startDate: trip.startDate,\r\n        endDate: trip.endDate,\r\n        // guests: {\r\n        //     adults: 2, kids: 0, infants: 0\r\n        // },\r\n        guests: {\r\n            adults: trip.guest.adults ,kids: trip.guest.kids ,infants: trip.guest.infants\r\n        },\r\n        stay: {\r\n            _id: stay._id,\r\n            name: stay.name,\r\n            price: stay.price,\r\n            picture: stay.imgUrls[0]\r\n        },\r\n        hostId: \"u103\",\r\n        // hostId: stay.host._id,\r\n        status: \"pending\"\r\n    }\r\n    console.log('order in util service Id',order._id);\r\n    console.log('order in util service',order);\r\n    return order\r\n}\r\n\r\n\r\n\r\nfunction calRate(reviews) {\r\n    const calAvgRate = lodash.meanBy(reviews, (review) => review.rate)\r\n    return (Math.floor(calAvgRate) === calAvgRate) ? calAvgRate : calAvgRate.toFixed(1)\r\n}","import React from 'react';\r\nimport { NavLink } from 'react-router-dom'\r\nimport Carousel from 'react-material-ui-carousel'\r\n\r\nexport function ImgCarusel({ stayId, imgs }) {\r\n\r\n\r\n\r\n    return (\r\n        <Carousel autoPlay={false}\r\n\r\n            indicatorIconButtonProps={{\r\n                style: {\r\n                    fontSize: '8px',\r\n                    // padding: '2px',    // 1\r\n                    // color: '#bdbdc9',       // 3\r\n                    color: 'gainsboro',\r\n                }\r\n            }}\r\n            activeIndicatorIconButtonProps={{\r\n                style: {\r\n                    // backgroundColor: '#c6c6d1', // 2\r\n                    fontSize: '8px',\r\n                    color: 'c6c6d1',\r\n                    margin: '0px',\r\n                    color: 'whitesmoke',\r\n                }\r\n            }}\r\n            indicatorContainerProps={{\r\n                style: {\r\n                    marginTop: '-35px', // 5\r\n                    // zIndex: -1,\r\n                    textAlign: 'center', // 4\r\n                    backgroundColor: 'transparent'\r\n                }\r\n\r\n            }}\r\n            \r\n            // className={{\r\n\r\n\r\n\r\n                \r\n            // }}\r\n            // CarouselItem={{\r\n            //     style: {\r\n            //         borderRadius: '30px'\r\n            //     }\r\n            // }}\r\n            \r\n            // Carousel-root-1={{\r\n            //     style: {\r\n            //         borderRadius: '30px'\r\n            //     }\r\n            // }}\r\n\r\n            // animation={'slide'}\r\n\r\n            timeout={220}\r\n        >\r\n            {\r\n                imgs.map((img, index) =>\r\n                    <NavLink key={index} to={`/stay/details/${stayId}`}>\r\n                        <img key={index} style={{borderRadius: '12px'}} src={img} />\r\n                    </NavLink>\r\n                )\r\n            }\r\n        </ Carousel >\r\n    )\r\n}\r\n\r\n\r\n            // function Item(props)\r\n// {\r\n//     return (\r\n//         <Paper>\r\n//             <h2>{'head'}</h2>\r\n//             <p>{'beatuiful place'}</p>\r\n\r\n//             <Button className=\"CheckButton\">\r\n//                 Check it out!\r\n//             </Button>\r\n//         </Paper>\r\n//     )\r\n// }\r\n\r\n\r\n\r\n/// buckup\r\n\r\n// import React from 'react';\r\n// import Carousel from 'react-material-ui-carousel'\r\n\r\n// export function ImgCarusel({ imgs }) {\r\n\r\n\r\n//     return (\r\n//         <Carousel autoPlay={false}\r\n//             indicatorIconButtonProps={{\r\n//                 style: {\r\n//                     // padding: '0px',    // 1\r\n//                     color: '#bdbdc9'       // 3\r\n//                 }\r\n//             }}\r\n//             activeIndicatorIconButtonProps={{\r\n//                 style: {\r\n//                     // backgroundColor: '#c6c6d1', // 2\r\n//                     color: 'c6c6d1',\r\n//                     margin:'20px',\r\n//                 }\r\n//             }}\r\n//             indicatorContainerProps={{\r\n//                 style: {\r\n//                     marginTop: '-50px', // 5\r\n//                     textAlign: 'center' // 4\r\n//                 }\r\n\r\n//             }}\r\n//         >\r\n//             {\r\n//                 imgs.map((img, i) => <img key={i} src={img} />)\r\n//             }\r\n//         </Carousel>\r\n//     )\r\n// }\r\n\r\n\r\n// // function Item(props)\r\n// // {\r\n// //     return (\r\n// //         <Paper>\r\n// //             <h2>{'head'}</h2>\r\n// //             <p>{'beatuiful place'}</p>\r\n\r\n// //             <Button className=\"CheckButton\">\r\n// //                 Check it out!\r\n// //             </Button>\r\n// //         </Paper>\r\n// //     )\r\n// // }","import { NavLink } from 'react-router-dom'\r\nimport '../../assets/styles/font/fontawesome/css/all.css'\r\nimport { utilService } from '../../services/utilService.js'\r\nimport { ImgCarusel } from './ImgCarusel.jsx'\r\n\r\n\r\n\r\nexport function StayPreview({ stay }) {\r\n    const reviewLength = utilService.getAmount(stay.reviews.length, 'review')\r\n    return (\r\n        <article className=\"explore-card\">\r\n            <ImgCarusel stayId={stay._id} imgs={stay.imgUrls} />\r\n            <NavLink to={`/stay/details/${stay._id}`} className=\"clean-list\" >\r\n                <div className=\"rate-title\">\r\n                    <i className=\"rate-star fas fa-star\"></i>\r\n                    <span className=\"rate-span\">\r\n                        <span className=\"rate-span-avg\">{stay.avgRate}</span>\r\n                        <span className=\"rate-span-length\">({reviewLength})</span>\r\n                    </span>\r\n                </div>\r\n                <h3 className=\"explore-card-title\">{(stay.name.length <= 30) ? stay.name : `${stay.summary.substring(0, 25)}...`} • {stay.loc.city}</h3>\r\n                <h3 className=\"explore-card-title\">{`${stay.summary.substring(0, 20)}...`}</h3>\r\n                <p className=\"explore-card-price\"><span>${stay.price}</span> / night</p>\r\n\r\n            </NavLink>\r\n        </article >\r\n    )\r\n}","import { StayPreview } from './StayPreview.jsx'\r\nimport { utilService } from '../../services/utilService.js'\r\n\r\n\r\n\r\n\r\n\r\nexport function StayList({ stays,isTopRated =false }) {\r\n    let sortedRateStay = utilService.sortByRate(stays,4)\r\n    if(isTopRated) sortedRateStay = sortedRateStay.slice(0,4)\r\n    return (\r\n        <div className=\"stay-list grid\">\r\n            {sortedRateStay.map(stay =>\r\n                <StayPreview\r\n                    key={stay._id}\r\n                    stay={stay}\r\n                />)}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        width: 300 + theme.spacing(3) * 2,\r\n    },\r\n    margin: {\r\n        height: theme.spacing(3),\r\n    },\r\n}));\r\n\r\nfunction ValueLabelComponent(props) {\r\n    const { children, open, value } = props;\r\n\r\n    return (\r\n        <Tooltip open={open} enterTouchDelay={2} placement=\"top\" title={value}>\r\n            {children}\r\n        </Tooltip>\r\n    );\r\n}\r\n\r\nValueLabelComponent.propTypes = {\r\n    children: PropTypes.element.isRequired,\r\n    open: PropTypes.bool.isRequired,\r\n    value: PropTypes.number.isRequired,\r\n};\r\n\r\nconst AirbnbSlider = withStyles({\r\n    root: {\r\n        color: '#9a8599',\r\n        height: 3,\r\n        padding: '13px 0',\r\n    },\r\n    thumb: {\r\n        height: 27,\r\n        width: 27,\r\n        backgroundColor: '#fff',\r\n        border: '1px solid currentColor',\r\n        marginTop: -12,\r\n        marginLeft: -13,\r\n        boxShadow: '#ebebeb 0 2px 2px',\r\n        '&:focus, &:hover, &$active': {\r\n            boxShadow: '#ccc 0 2px 3px 1px',\r\n        },\r\n        '& .bar': {\r\n            // display: inline-block !important;\r\n            height: 9,\r\n            width: 1,\r\n            backgroundColor: 'currentColor',\r\n            marginLeft: 1,\r\n            marginRight: 1,\r\n        },\r\n    },\r\n    active: {},\r\n    track: {\r\n        height: 3,\r\n    },\r\n    rail: {\r\n        color: '#d8d8d8',\r\n        opacity: 1,\r\n        height: 3,\r\n    },\r\n})(Slider);\r\n\r\nfunction AirbnbThumbComponent(props) {\r\n    return (\r\n        <span {...props}>\r\n            <span className=\"bar\" />\r\n            <span className=\"bar\" />\r\n            <span className=\"bar\" />\r\n        </span>\r\n    );\r\n}\r\nexport function StayFilter() {\r\n    const classes = useStyles();\r\n    return (\r\n        <div className={classes.root}>\r\n            <Typography gutterBottom>Airbnb</Typography>\r\n            <AirbnbSlider\r\n                defaultValue={[0, Infinity]}\r\n                valueLabelDisplay=\"on\"\r\n                min={1}\r\n                max={999}\r\n                scale={(x) => x +'$'}\r\n                \r\n            />\r\n        </div>\r\n    );\r\n}\r\n","\r\n\r\nexport const storageService = {\r\n    query,\r\n    get,\r\n    post,\r\n    put,\r\n    remove,\r\n}\r\n\r\nfunction query(entityType, items) {\r\n    var entities = JSON.parse(localStorage.getItem(entityType)) || [...items]\r\n    // console.log(entities)\r\n    _save(entityType, entities)\r\n    return Promise.resolve(entities)\r\n}\r\n\r\nasync function get(entityType, entityId) {\r\n    // console.log('type, id in storage', entityType, entityId)\r\n    const entities = await query(entityType)\r\n    return entities.find(entity => entity._id === entityId)\r\n}\r\n\r\n\r\nasync function post(entityType, newEntity) {\r\n    // console.log('post in storage')\r\n    newEntity._id = _makeId()\r\n    const entities = await query(entityType, [])\r\n    entities.unshift(newEntity)\r\n    _save(entityType, entities)\r\n    return newEntity\r\n}\r\n\r\n\r\n\r\nasync function put(entityType, updatedEntity) {\r\n    const entities = await query(entityType)\r\n    const idx = entities.findIndex(entity => entity._id === updatedEntity._id)\r\n    entities.splice(idx, 1, updatedEntity)\r\n    _save(entityType, entities)\r\n    return updatedEntity\r\n}\r\n\r\nasync function remove(entityType, entityId) {\r\n    const entities = await query(entityType)\r\n    const idx = entities.findIndex(entity => entity._id === entityId)\r\n    entities.splice(idx, 1)\r\n    _save(entityType, entities)\r\n}\r\n\r\n\r\nfunction _save(entityType, entities) {\r\n    localStorage.setItem(entityType, JSON.stringify(entities))\r\n}\r\n\r\nfunction _makeId(length = 5) {\r\n    var text = ''\r\n    var possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\r\n    for (var i = 0; i < length; i++) {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length))\r\n    }\r\n    return text\r\n}","import Axios from 'axios'\r\n\r\nconst BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? '/api/'\r\n    : '//localhost:3030/api/'\r\n\r\n\r\nvar axios = Axios.create({\r\n    withCredentials: false,\r\n    'Access-Control-Allow-Credentials': true,\r\n    'Access-Control-Allow-Origin': '*'\r\n\r\n})\r\n\r\n\r\n// var axios = Axios.create({\r\n//     withCredentials: true\r\n// })\r\n\r\nexport const httpService = {\r\n    get(endpoint, data) {\r\n        return ajax(endpoint, 'GET',data)\r\n    },\r\n    post(endpoint, data) {\r\n        console.log('check');\r\n        console.log('data:', data)\r\n        return ajax(endpoint, 'POST', data)\r\n    },\r\n    put(endpoint, data) {\r\n        return ajax(endpoint, 'PUT', data)\r\n    },\r\n    delete(endpoint, data) {\r\n        return ajax(endpoint, 'DELETE', data)\r\n    }\r\n}\r\n\r\nasync function ajax(endpoint, method = 'GET', data = null) {\r\n    console.log('BASE_URL:', BASE_URL)\r\n    try {\r\n        const res = await axios({\r\n            url: `${BASE_URL}${endpoint}`,\r\n            method,\r\n            data,\r\n            params: (method === 'GET') ? data : null\r\n        })\r\n        return res.data\r\n    } catch (err) {\r\n        console.log(`Had Issues ${method}ing to the backend, endpoint: ${endpoint}, with data: ${data}`)\r\n        console.dir(err)\r\n        if (err.response && err.response.status === 401) {\r\n            // Depends on routing startegy - hash or history\r\n            window.location.assign('/#/login')\r\n            // window.location.assign('/login')\r\n            //     router.push('/login')\r\n            // }\r\n        }\r\n        throw err\r\n    }\r\n}","import { storageService } from './asyncStorageService'\r\nimport { httpService } from './http.service'\r\n\r\nconst gStays = require('../data/stay.json')\r\nconst STORAGE_KEY = 'STAY_KEY'\r\nexport const stayService = {\r\n  query,\r\n  getStayById,\r\n  remove,\r\n  save\r\n}\r\n\r\n\r\nasync function query(filterBy = {}) {\r\n  // return await storageService.query(STORAGE_KEY, gStays)\r\n  try {\r\n    return await httpService.get('stay')\r\n    // await storageService.query(STORAGE_KEY, test)\r\n  } catch (err) {\r\n    throw err\r\n    // }\r\n  }\r\n}\r\n\r\nasync function getStayById(stayId) {\r\n  return await httpService.get(`stay/${stayId}`)\r\n\r\n  // const res = await storageService.get(STORAGE_KEY, stayId)\r\n  // console.log('get stay by id in service',res,stayId);\r\n  // return res\r\n}\r\n\r\nasync function remove(stayId) {\r\n  return await httpService.delete(`stay/${stayId}`)\r\n  // await storageService.remove(STORAGE_KEY, stayId)\r\n  // return Promise.resolve()\r\n}\r\nasync function save(stay) {\r\n  if(stay._id) {\r\n   return await httpService.put(`stay/${stay._id}`,stay)\r\n  }\r\n  else {\r\n  return await httpService.post('stay',stay)\r\n  }\r\n  // const res = await storageService.put(STORAGE_KEY, stay)\r\n  // return res\r\n}","import { stayService } from \"../../services/stayService.js\"\r\n\r\n\r\nexport function loadStays() {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type: 'LOADING_START' })\r\n            const stays = await stayService.query()\r\n            dispatch({ type: 'SET_STAYS', stays })\r\n        } catch (err) {\r\n            console.log('stayActions: err in load stays', err)\r\n        } finally {\r\n            dispatch({ type: 'LOADING_DONE' })\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function loadStay(stayId) {\r\n    return async dispatch => {\r\n        try {\r\n            const stay = await stayService.getStayById(stayId) // get by id in the service\r\n            // console.log( 'stay in load stay action',stay)\r\n            dispatch({ type: 'SET_STAY', stay })\r\n        } catch (err) {\r\n            console.log('stayActions: err in load stay', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function removeStay(stayId) {\r\n    return async dispatch => {\r\n        try {\r\n            await stayService.remove(stayId)\r\n            dispatch({ type: 'REMOVE_STAY', stayId })\r\n        } catch (err) {\r\n            console.log('stayActions: err in removeStay', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function saveStay(stay) {\r\n    // console.log('save stay in stay.action')\r\n    const type = stay._id ? 'UPDATE_STAY' : 'ADD_STAY'\r\n    return async dispatch => {\r\n        try {\r\n            await stayService.save(stay)\r\n            dispatch({ type, stay })\r\n        } catch (err) {\r\n            console.log('stayActions: err in save stays', err)\r\n        }\r\n    }\r\n}\r\n\r\n// export function addReview(stayId, review) {\r\n//     // console.log('save stay in stay.action')\r\n//     const type = 'ADD_REVIEW'\r\n//     return async dispatch => {\r\n//         try {\r\n//             // const stayReview = await stayService.addReview(stayId,review)\r\n//             // dispatch({ type, stayReview })\r\n//         } catch (err) {\r\n//             console.log('stayActions: err in add review stays', err)\r\n//         }\r\n//     }\r\n// }\r\n\r\n// export function onLogin() {\r\n//     return 'hellllllooooooo'\r\n// }","export default __webpack_public_path__ + \"static/media/Infinity-1s-264px.603ea996.svg\";","import React, { Component } from 'react'\r\nimport loaderSvg from '../../assets/svg/loader/Infinity-1s-264px.svg'\r\nexport class PageLoader extends Component {\r\n  render() {\r\n    return (\r\n      <div style={{ minHeight:'700px',width:'100%',}}><img src={loaderSvg} style={{ width: '250px',position:'absolute',left:'40%' }}></img></div>\r\n    )\r\n  }\r\n}","//eslint-disable-next-line\r\nimport React, { useState, useEffect,useCallback} from 'react'\r\nimport {  useDispatch, useSelector } from 'react-redux'\r\nimport { utilService } from '../services/utilService'\r\nimport { StayList } from '../cmps/ExploreCmps/StayList.jsx'\r\nimport { StayFilter } from '../cmps/ExploreCmps/StayFilter.jsx'\r\nimport { loadStays } from '../store/actions/stayActions.js'\r\nimport { PageLoader } from '../cmps/commonCmps/PageLoader.jsx'\r\nimport moment from \"moment\"\r\nimport { useParams } from 'react-router'\r\n\r\nexport const StayApp = () => {\r\n    const [isPriceFilterOpen, setPriceFilterModal] = useState(false)\r\n    const [filteredStays, setStay] = useState(null)\r\n    const dispatch = useDispatch()\r\n    const {city} = useParams()\r\n\r\n    const { stays } = useSelector(state => state.stayModule)\r\n    const { trip } = useSelector(state => state.tripModule)\r\n\r\n    useEffect(() => {\r\n        dispatch(loadStays())\r\n    }, [city])\r\n\r\n    useEffect(() => {\r\n        setStay(getFilterStays())\r\n        return () => {\r\n            setStay(null)\r\n        }\r\n    }, [stays])\r\n    \r\n    const priceFilterModalToggle = () => {\r\n        setPriceFilterModal(pervToggle => !pervToggle)\r\n    }\r\n    const getFilterStays = useCallback(\r\n        () => {\r\n            let stayFiltered\r\n            stayFiltered = (!city) ? stays : stays.filter(stay => stay.loc.city === city)\r\n        \r\n            if (trip && trip.guest)  {\r\n                const guestTotal =  trip.guest.adults + trip.guest.kids + trip.guest.infants\r\n                stayFiltered =  stayFiltered.filter(stay => stay.capacity >= guestTotal)\r\n            }\r\n            return stayFiltered\r\n        },\r\n        [stays],\r\n    )\r\n    \r\n    const guestsAmount = () => {\r\n            if (!trip || !trip.guest) return ''\r\n            return utilService.getAmount(trip.guest, 'guest')\r\n    }\r\n\r\n    const stayLength = () => {\r\n        if(!filteredStays) return\r\n        return utilService.getAmount(filteredStays.length, 'stay')\r\n    }\r\n    const tripDate = () => {\r\n        if (!trip || !trip.startDate && !trip.endDate) return ''\r\n        return  ` · ${moment(trip.startDate).format('MMM-DD')}-${moment(trip.endDate).format('MMM-DD')}`\r\n    }\r\n    const dynamicHeadline = () => {\r\n        return (!city) ? `Top-rated places to stay` : `Stays in ${city}`\r\n    }\r\n\r\n  \r\n    if(!filteredStays) return <div>loading...</div>\r\n    return (\r\n        <section className=\"main-explore main-layout full\">\r\n            <div className=\"main-explore-wrapper\">\r\n\r\n                <div className=\"explore-headline\">\r\n                    <p className=\"explore-headline-criteria\">{stayLength()}{tripDate()}{guestsAmount()}</p>\r\n                    <h2>{dynamicHeadline()}</h2>\r\n                    <div className=\"explore-filter-btn\">\r\n                        <button onClick={() => priceFilterModalToggle()}>Price</button>\r\n                    </div>\r\n                </div>\r\n                {isPriceFilterOpen && <StayFilter />}\r\n                <StayList stays={filteredStays} />\r\n            </div>\r\n\r\n        </section>\r\n    )}\r\n\r\n\r\n\r\n\r\n\r\n// export class _StayApp extends Component {\r\n//     state = {\r\n//         isPriceFilterOpen: false,\r\n//         filteredStays: null\r\n//     }\r\n//     async componentDidMount() {\r\n//         await this.props.loadStays()\r\n//         const city = this.props.match.params.city\r\n//         if (city) this.setState({ filteredStays: this.getFilterStays(city) })\r\n//     }\r\n\r\n//     getFilterStays = (city) => {\r\n//         const { stays } = this.props\r\n//         return stays.filter(stay => {\r\n//             return stay.loc.city === city\r\n//         })\r\n//     }\r\n\r\n\r\n\r\n//     priceFilterModalToggle = () => {\r\n//         this.setState({\r\n//             isPriceFilterOpen: !this.state.isPriceFilterOpen\r\n//         })\r\n//     }\r\n\r\n\r\n//     render() {\r\n//         const { stays, trip } = this.props\r\n//         const staysToShow = this.state.filteredStays ? this.state.filteredStays : stays\r\n//         console.log('staysToShow:', staysToShow.length)\r\n//         const guestsAmount = (trip) ? (trip.guest) ? utilService.getAmount(trip.guest, 'guest') : '' : ''\r\n//         const stayLength = utilService.getAmount(staysToShow.length, 'stay')\r\n//         const tripDate = (trip) ? (trip.startDate && trip.endDate) ? ` · ${moment(trip.startDate).format('MMM-DD')}-${moment(trip.endDate).format('MMM-DD')}` : '' : ''\r\n//         const dynamicHeadline = (!this.props.match.params.city) ? `Top-rated places to stay` : `Stays in ${this.props.match.params.city}`\r\n//         const { isPriceFilterOpen } = this.state\r\n//         console.log('this.props.isLoading:', this.props.isLoading)\r\n//         return (\r\n//             <section className=\"main-explore main-layout full\">\r\n//                 <div className=\"main-explore-wrapper\">\r\n\r\n//                             <div className=\"explore-headline\">\r\n//                                 <p className=\"explore-headline-criteria\">{`${stayLength}${tripDate}${guestsAmount}`}</p>\r\n//                                 <h2>{dynamicHeadline}</h2>\r\n//                                 <div className=\"explore-filter-btn\">\r\n//                                     <button onClick={this.priceFilterModalToggle}>Price</button>\r\n//                                 </div>\r\n//                             </div>\r\n//                             {isPriceFilterOpen && <StayFilter />}\r\n//                             <StayList stays={staysToShow} />\r\n//                 </div>\r\n\r\n//             </section>\r\n//         )\r\n//     }\r\n// }\r\n\r\n// function mapStateToProps(state) {\r\n//     return {\r\n//         stays: state.stayModule.stays,\r\n//         trip: state.tripModule.trip,\r\n//         isLoading: state.systemModule.isLoading\r\n\r\n//     }\r\n// }\r\n\r\n// const mapDispatchToProps = {\r\n//     loadStay,\r\n//     loadStays\r\n\r\n// }\r\n\r\n// export const StayApp = connect(mapStateToProps, mapDispatchToProps)(_StayApp)","import { storageService } from './asyncStorageService'\r\nimport { httpService } from './http.service'\r\nconst gOrders = require('../data/order.json')\r\nconst STORAGE_KEY = 'ORDER_KEY'\r\nexport const orderService = {\r\n  query,\r\n  getOrderById,\r\n  remove,\r\n  save,\r\n  getOrderByHost,\r\n  setStatus\r\n}\r\n\r\nasync function query() {\r\n  // return await storageService.query(STORAGE_KEY, gOrders)\r\n  try {\r\n    return await httpService.get('order')\r\n    // await storageService.query(STORAGE_KEY, test)\r\n  } catch (err) {\r\n    throw err\r\n  }\r\n}\r\n\r\nasync function getOrderById(orderId) {\r\n  const res = await storageService.get(STORAGE_KEY, orderId)\r\n  // console.log('get stay by id in service',res,stayId);\r\n  return res\r\n}\r\nasync function getOrderByHost(hostId) {\r\n  const res = await query()\r\n  const filteredOrders = res.filter(order => {\r\n    return order.hostId === hostId\r\n  })\r\n  console.log('service', filteredOrders);\r\n  return filteredOrders\r\n}\r\n\r\nasync function remove(orderId) {\r\n  await storageService.remove(STORAGE_KEY, orderId)\r\n  return Promise.resolve()\r\n}\r\n\r\n\r\nasync function save(order) {\r\n  console.log('order service:', order, 'id', order._id)\r\n  if (order._id) {\r\n    return await httpService.put(`order/${order._id}`, order)\r\n  }\r\n  else {\r\n    const res = await httpService.post('order', order)\r\n    console.log(res);\r\n    return res\r\n  }\r\n  // const res = await storageService.put(STORAGE_KEY, stay)\r\n  // return res\r\n}\r\n\r\n\r\nasync function setStatus(order) {\r\n  // const res = await storageService.put(STORAGE_KEY, order)\r\n  const res = await httpService.put(`order/${order._id}`, order)\r\n  return res\r\n}","import { orderService } from \"../../services/orderService.js\"\r\n\r\nexport function loadOrders() {\r\n    return async dispatch => {\r\n        try {\r\n            const orders = await orderService.query()\r\n            // console.log('lodaorders in action',orders)\r\n            dispatch({ type: 'SET_ORDERS', orders })\r\n        } catch (err) {\r\n            console.log('stayActions: err in load actions', err)\r\n        }\r\n    }\r\n}\r\n// export function loadOrdersByHost(hostId) {\r\n//     return async dispatch => {\r\n//         try {\r\n//             const orders = await orderService.getOrderByHost(hostId)\r\n//             dispatch({ type: 'SET_HOST_ORDERS', orders })\r\n//         } catch (err) {\r\n//             console.log('stayActions: err in load actions', err)\r\n//         }\r\n//     }\r\n// }\r\n\r\nexport function removeOrder(orderId) {\r\n    return async dispatch => {\r\n        try {\r\n            await orderService.remove(orderId)\r\n            dispatch({ type: 'REMOVE_ORDER', orderId })\r\n        } catch (err) {\r\n            console.log('orderActions: err in removeOrder', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function saveOrder(order) {\r\n    return async dispatch => {\r\n        try {\r\n            console.log('order in action',order);\r\n            const saveOrder = await orderService.save(order)\r\n            const type = order._id ? 'UPDATE_ORDER' : 'ADD_ORDER'\r\n            dispatch({ type, saveOrder })\r\n        } catch (err) {\r\n            console.log('orderActions: err in save order', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport function setOrderStatus(orderobj) {\r\n    const type = 'SET_STATUS'\r\n    return async dispatch => {\r\n        try {\r\n            const order = await orderService.setStatus(orderobj)\r\n            dispatch({ type, order })\r\n        } catch (err) {\r\n            console.log('orderActions: err in set status', err)\r\n        }\r\n    }\r\n}","import { Map, InfoWindow, Marker, GoogleApiWrapper } from 'google-maps-react';\r\nimport { Component } from 'react';\r\nconst style = {\r\n    height: \"350px\",\r\n    overflowX: \"hidden\",\r\n    overflowY: \"hidden\",\r\n\r\n};\r\nconst containerStyle = {\r\n    width: \"100%\",\r\n    height: \"350px\",\r\n    position: \"relative\"\r\n};\r\nclass _GoogleMap extends Component {\r\n\r\n\r\n    state = {\r\n        lat: this.props.loc.lat,\r\n        lng: this.props.loc.lng\r\n    }\r\n\r\n    onMapClicked = (props, map, ev) => {\r\n        this.setState({ lat: ev.latLng.lat(), lng: ev.latLng.lng() })\r\n    }\r\n\r\n    render() {\r\n        const { lat, lng } = this.state\r\n        return (\r\n            <Map\r\n\r\n                google={this.props.google}\r\n                zoom={16}\r\n                style={style} containerStyle={containerStyle}\r\n                initialCenter={{\r\n                    lat,\r\n                    lng\r\n                }}\r\n                center={this.state}\r\n                onClick={this.onMapClicked}\r\n            >\r\n\r\n                <Marker\r\n                    position={this.state}\r\n                    name={'Current location'} />\r\n            </Map>\r\n        );\r\n    }\r\n}\r\n\r\nexport const GoogleMap = GoogleApiWrapper({\r\n    apiKey: ('')\r\n})(_GoogleMap)","import { utilService } from '../../services/utilService.js'\r\nimport { Rating } from '@material-ui/lab'\r\n\r\n\r\nimport moment from \"moment\"\r\nexport function StayReviews({ reviews, isToSeeAll }) {\r\n\r\n    const sortedReviews = utilService.sortByDate(reviews, isToSeeAll)\r\n    return (\r\n        <div >\r\n            <ul className=\"reviews-list grid\">\r\n                {sortedReviews.map(review =>\r\n                    <li key={review.id} className=\"clean-list review\">\r\n                        <div className=\"user-info flex space-between\">\r\n                            <div>\r\n                                <div className=\"flex\">\r\n                                    <img className=\"user-img flex\" src={`https://res.cloudinary.com/daqn5x9jq/image/upload/v1622931073/image%20airbnb/${review.by._id}.jpg`} />\r\n                                    <div>\r\n                                        <div className=\"user-name\">{review.by.fullname}</div>\r\n                                        <div className=\"date\">{moment(review.createdAt).format('MMMM YYYY')}</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <Rating name=\"read-only\" value={review.rate} readOnly />\r\n                        </div>\r\n                        <p>{review.txt}</p></li>)}\r\n            </ul >\r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/kitchen.61863711.svg\";","export default __webpack_public_path__ + \"static/media/TV.6413608f.svg\";","export default __webpack_public_path__ + \"static/media/Pets_allowed.9f56cec5.svg\";","export default __webpack_public_path__ + \"static/media/Elevator.b9357ff8.svg\";","export default __webpack_public_path__ + \"static/media/Wifi.2bc85135.svg\";","export default __webpack_public_path__ + \"static/media/Gym.f97afcb7.svg\";","export default __webpack_public_path__ + \"static/media/smoking.88c6ac17.svg\";","export default __webpack_public_path__ + \"static/media/hot_tub.3539d317.svg\";","export default __webpack_public_path__ + \"static/media/Air_conditioning.2be5ec34.svg\";","import Kitchen from '../../assets/svg/amenties/kitchen.svg';\r\nimport TV from '../../assets/svg/amenties/TV.svg';\r\nimport Pets_allowed from '../../assets/svg/amenties/Pets_allowed.svg';\r\nimport Elevator from '../../assets/svg/amenties/Elevator.svg';\r\nimport Wifi from '../../assets/svg/amenties/Wifi.svg';\r\nimport Gym from '../../assets/svg/amenties/Gym.svg';\r\nimport Smoking from '../../assets/svg/amenties/smoking.svg';\r\nimport Hot_tub from '../../assets/svg/amenties/hot_tub.svg';\r\nimport Air_conditining from '../../assets/svg/amenties/Air_conditioning.svg';\r\n// import Cooking_basics from '../../assets/svg/amenties/Cooking_basics.svg';\r\n\r\nexport function AmentiesList({ aments }) {\r\n\r\n    function getAmenityImg(amenity) {\r\n        switch (amenity) {\r\n            case 'Kitchen':\r\n                return Kitchen\r\n            case 'Wifi':\r\n                return Wifi\r\n            case 'Gym':\r\n                return Gym\r\n            case 'Pets allowed':\r\n                return Pets_allowed\r\n            case 'TV':\r\n                return TV\r\n            case 'Elevator':\r\n                return Elevator\r\n            case 'Air conditining':\r\n                return Air_conditining\r\n            case 'Smoking allowed':\r\n                return Smoking\r\n            case 'Hot tub':\r\n                return Hot_tub\r\n            // case 'Cooking basics':\r\n            //     return Cooking_basics\r\n            default:\r\n                return ''\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    let currImg\r\n    return (\r\n        <div className=\"aments-container\">\r\n            <ul className=\"aments-list grid\">{aments.map((amenity, idx) => {\r\n                currImg = getAmenityImg(amenity)\r\n                if (!currImg) return\r\n                return (\r\n                    <div key={amenity} className=\"flex\"><img key={amenity} className=\"amenty-icon\" src={currImg} alt=\"\" key={idx} />\r\n                    \r\n                        <li key={amenity} className=\"clean-list\">{amenity}</li> </div>\r\n                )\r\n            })\r\n            }\r\n            </ul >\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n// import subDays from \"date-fns/subDays\"\r\n// console.log('subDays:', subDays)\r\n\r\nexport class DateRangePickerDetails extends Component {\r\n\r\n    state = {\r\n        date: null,\r\n        startDate: null,\r\n        endDate: null,\r\n    }\r\n\r\n\r\n    setDateRange = (dates) => {\r\n        const [start, end] = dates;\r\n        // console.log('start:', start)\r\n\r\n        this.setState({\r\n            startDate:\r\n                start, endDate: end\r\n        })\r\n        // if (start && end) this.props.onToggleChoose('date-picker')\r\n        if (start && end) this.props.openDatePicker()\r\n        this.props.setDate(start, end)\r\n    }\r\n\r\n    render() {\r\n        const { startDate, endDate } = this.state;\r\n        return (\r\n            <div>\r\n                <DatePicker\r\n                    selected={null}\r\n                    onChange={(update) => {\r\n                        this.setDateRange(update);\r\n                    }}\r\n                    startDate={startDate}\r\n                    endDate={endDate}\r\n                    selectsRange={true}\r\n                    minDate={new Date()}\r\n                    monthsShown={2}\r\n                    inline\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n//     const [startDate, setStartDate] = useState(new Date(\"2014/02/08\"));\r\n//     const [endDate, setEndDate] = useState(new Date(\"2014/02/10\"));\r\n//     return (\r\n//       <>\r\n//         <DatePicker\r\n//           selected={startDate}\r\n//           onChange={(date) => setStartDate(date)}\r\n//           selectsStart\r\n//           startDate={startDate}\r\n//           endDate={endDate}\r\n//         />\r\n//         <DatePicker\r\n//           selected={endDate}\r\n//           onChange={(date) => setEndDate(date)}\r\n//           selectsEnd\r\n//           startDate={startDate}\r\n//           endDate={endDate}\r\n//           minDate={startDate}\r\n//         />\r\n//       </>\r\n//     );\r\n//   };\r\n// }","import React from 'react'\r\n\r\nexport function BookingSummery({ totalPrice, price, daysNum }) {\r\n\r\n    return (\r\n            <div className=\"booking-summery flex column\">\r\n                <div className=\"wont-be-charged\">You won't be charged yet</div>\r\n                <div className=\"explicit-price flex space-between\">\r\n                    <span className=\"calculation\">{`$${price} x ${daysNum}`}</span>\r\n                    <span>{`$${totalPrice}`}</span>\r\n                </div>\r\n                <div className=\"fees flex space-between\">\r\n                    <span>Fees</span>\r\n                    <span>$0</span>\r\n                </div>\r\n                <div className=\"total-price flex space-between\">Total:<span>{`$${totalPrice}`}</span></div>\r\n            </div>\r\n\r\n    )\r\n}","export function GuestChooseDetails({ toggleChoose, guestUpdate, guest }) {\r\n\r\n    function onGuestsUpdate(type, diff) {\r\n        guest[type] += diff\r\n        // console.log('guest[type]:', guest[type], type)\r\n        if ((guest.infants || guest.kids) && !guest.adults) guest.adults = 1\r\n        guestUpdate(guest)\r\n    }\r\n\r\n    return (\r\n        <div className=\"guest-choose-details flex column\">\r\n            <div className=\"guest-choose-line flex align-center space-between\">\r\n                <div className=\"text-warpper-line flex column\">\r\n                    <span className=\"text-warpper-line-first\">\r\n                        Adults:\r\n                    </span>\r\n                    <span className=\"text-warpper-line-sec\">\r\n                        Ages 13 or above\r\n                    </span>\r\n                </div>\r\n                <div className=\"guest-btn-warrper flex space-around\"><button disabled={!guest.adults} className=\"guest-btn-modal\"\r\n                    onClick={() => onGuestsUpdate('adults', -1)}>-</button>\r\n                    <span style={{ margin: \"2px\" }}>{guest.adults}</span>\r\n                    <button disabled={guest.adults === 16} className=\"guest-btn-modal\" onClick={() => onGuestsUpdate('adults', 1)}>+</button></div>\r\n            </div>         <div className=\"guest-choose-line flex align-center space-between\">\r\n                <div className=\"text-warpper-line flex column\">\r\n                    <span className=\"text-warpper-line-first\">\r\n                        Children:\r\n                    </span>\r\n                    <span className=\"text-warpper-line-sec\">\r\n                        Ages 2–12\r\n                    </span>\r\n                </div>\r\n                <div className=\"guest-btn-warrper flex space-around\"><button disabled={!guest.kids} className=\"guest-btn-modal\"\r\n                    onClick={() => onGuestsUpdate('kids', -1)}>-</button>\r\n                    <span style={{ margin: \"2px\" }}>{guest.kids}</span>\r\n                    <button disabled={guest.kids === 5} className=\"guest-btn-modal\" onClick={() => onGuestsUpdate('kids', 1)}>+</button></div>\r\n            </div>\r\n            <div className=\"guest-choose-line flex align-center space-between\">\r\n                <div className=\"text-warpper-line flex column\">\r\n                    <span className=\"text-warpper-line-first\">\r\n                        Infants:\r\n                    </span>\r\n                    <span className=\"text-warpper-line-sec\">\r\n                        Under 2\r\n                    </span>\r\n                </div>\r\n                <div className=\"guest-btn-warrper flex space-around\">\r\n                    <button className=\"guest-btn-modal\"\r\n                        onClick={() => onGuestsUpdate('infants', -1)} disabled={(!guest.infants)}>-</button>\r\n                    <span style={{ margin: \"2px\" }}>{guest.infants}</span>\r\n                    <button disabled={guest.infants === 5} className=\"guest-btn-modal\" onClick={() => onGuestsUpdate('infants', 1)}>+</button>\r\n                    {/* <button classaName=\"guests-close\"onClick={() => toggleChoose()} >close</button> */}\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n\r\n}","import React, { Component } from 'react'\r\nimport { DateRangePickerDetails } from '../../cmps/StayDetailsCmps/DateRangePickerDetails.jsx'\r\nimport { BookingSummery } from '../../cmps/StayDetailsCmps/BookingSummery.jsx'\r\nimport { GuestChooseDetails } from '../../cmps/StayDetailsCmps/GuestChooseDetails.jsx'\r\nimport moment from \"moment\"\r\n\r\n\r\nexport class BookingModal extends Component {\r\n\r\n    state = {\r\n        isDatePickerOpen: false,\r\n        isDatesPicked: false,\r\n        startDate: '',\r\n        endDate: '',\r\n        totalPrice: null,\r\n        daysNum: null,\r\n        guest: {\r\n            adults: 0,\r\n            kids: 0,\r\n            infants: 0\r\n        },\r\n        isGuestChoose: false,\r\n        isReserved: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { trip } = this.props\r\n        if (trip) {\r\n            if (trip.startDate && trip.startDate) {\r\n                this.setState({ startDate: trip.startDate, endDate: trip.endDate, isDatesPicked: true }, () => this.setDate(this.state.startDate, this.state.endDate))\r\n            }\r\n            if (trip.guest.adults > 0) {\r\n                this.setState({ guest: trip.guest })\r\n            }\r\n        }\r\n    }\r\n\r\n    setDate = (startDate, endDate) => {\r\n        var a = moment(startDate);\r\n        var b = moment(endDate);\r\n        const diff = Math.round(moment.duration(b.diff(a)).asDays()); // Difference in number of days\r\n        this.setState({\r\n            isDatesPicked: true,\r\n            startDate,\r\n            endDate,\r\n            daysNum: diff,\r\n            totalPrice: diff * this.props.currStay.price\r\n        })\r\n    }\r\n\r\n    toggleChoose = () => {\r\n        this.setState({ isGuestChoose: !this.state.isGuestChoose })\r\n    }\r\n    guestUpdate = (guest) => {\r\n        this.setState(prevState => ({\r\n            guest: { ...prevState.guest, guest },\r\n            isDatePickerOpen: false\r\n        }))\r\n    }\r\n\r\n    openDatePicker = () => {\r\n        this.setState({ isDatePickerOpen: !this.state.isDatePickerOpen, isGuestChoose: false })\r\n    }\r\n\r\n    onReserve = () => {\r\n        let { totalPrice, startDate, endDate, guest } = this.state\r\n        console.log('startDate endDate', startDate, endDate)\r\n        startDate = moment(startDate).format('YYYY/MM/DD')\r\n        endDate = moment(endDate).format('YYYY/MM/DD')\r\n        const checkInDets = {\r\n            totalPrice,\r\n            startDate,\r\n            endDate,\r\n            guest\r\n        }\r\n        this.setState({isReserved : true})\r\n        this.props.onReserve(checkInDets)\r\n    }\r\n\r\n    buttonRender = () => {\r\n        if (this.state.isReserved) return <div className=\"btn-reserved\">Reserved!</div>\r\n        else if (this.state.isDatesPicked) return <button className=\"call-action btn-grad\" onClick={this.onReserve}>Reserve</button>\r\n        else return <button className=\"call-action btn-grad\" onClick={this.openDatePicker}>Check Availability</button>\r\n    }\r\n\r\n    guestAmountCulc = () => {\r\n        const { guest } = this.state\r\n        const amount = guest.adults + guest.kids + guest.infants\r\n        return (amount === 0) ? '' : (amount === 1) ? '1 guest' : `${amount} guests`\r\n    }\r\n\r\n    render() {\r\n        const { startDate, endDate, isDatePickerOpen, totalPrice, isGuestChoose, guest, daysNum } = this.state\r\n        const guestAmount = this.guestAmountCulc()\r\n        return (\r\n            <div className=\"booking-modal flex column\">\r\n                <div className=\"flex column\">\r\n                    <div className=\"booking-details-header flex space-between\">\r\n                        <div className=\"price-night\"><span className=\"bold-price\">{`$${this.props.currStay.price}`}</span> / night</div>\r\n                        <div className=\"\">\r\n                            <i className=\"rate-star fas fa-star\"></i>\r\n                            <span className=\"rate-small\"><span className=\"rate-num\">{this.props.avgRate}</span><span> ({this.props.currStay.reviews.length} reviews)</span></span>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"checkIn-guest flex row\">\r\n                            <div className=\"dates-pick\">\r\n                                <button className=\"check-1\" onClick={() => this.openDatePicker()}>\r\n                                    {startDate ? `${moment(startDate).format('LL')}` : 'Check In'}</button>\r\n                                <button className=\"check-2\" onClick={() => this.openDatePicker()}>\r\n                                    {endDate ? `${moment(endDate).format('LL')}` : 'Check Out'}</button>\r\n                            </div>\r\n                            {/* <button className=\"dets-guest-choose\" onClick={() => this.toggleChoose()}>Guests</button> */}\r\n                            <button className=\"dets-guest-choose\" onClick={() => this.toggleChoose()}><div className=\"picker-date-btn-first-line\">Guests</div>\r\n                                {guestAmount ? guestAmount : <div className=\"picker-date-btn-sec-line\">Add guests</div>}</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    isGuestChoose && <GuestChooseDetails\r\n                        toggleChoose={this.toggleChoose} guestUpdate={this.guestUpdate} guest={guest} />\r\n                }\r\n                <div className=\"date-picker-details\">\r\n                    {isDatePickerOpen && <DateRangePickerDetails setDate={this.setDate} openDatePicker={this.openDatePicker} />}\r\n                </div>\r\n                {/* { !isDatePickerOpen && this.buttonRender()} */}\r\n                {this.buttonRender()}\r\n                {\r\n                    this.state.isDatesPicked &&\r\n                    <BookingSummery startDate={moment(startDate).format('LL')} endDate={moment(endDate).format('LL')} totalPrice={totalPrice} price={this.props.currStay.price} daysNum={daysNum} />\r\n                }\r\n                <div className=\"form\"></div>\r\n            </div >\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport { Rating } from '@material-ui/lab'\r\nimport { utilService } from '../../services/utilService.js'\r\nimport emptyAvatar from '../../assets/svg/appHeader/emptyAvatar.svg'\r\n\r\n\r\nexport class AddReview extends Component {\r\n\r\n    state = {\r\n        isReviewAddOpen: false,\r\n        review: {\r\n            id: '',\r\n            txt: '',\r\n            rate: null,\r\n            createdAt: null,\r\n            by: this.props.user\r\n        }\r\n    }\r\n\r\n\r\n    handleChange = (ev) => {\r\n        ev.preventDefault()\r\n\r\n        // console.log('hendle change in add review')\r\n        const field = ev.target.name\r\n        if(field == 'rate') ev.target.type = 'number'\r\n        const value = ev.target.type === 'number' ? +ev.target.value : ev.target.value\r\n        this.setState(prevState => ({\r\n            review: {\r\n                ...prevState.review,\r\n                [field]: value,\r\n                id: utilService.makeId(),\r\n                createdAt: new Date()\r\n            }\r\n        }))\r\n    }\r\n    // toggleAddReview = () => {\r\n    //     this.setState({ isReviewAddOpen: !this.state.isReviewAddOpen })\r\n    // }\r\n\r\n    onAddReview = (ev) => {\r\n        ev.preventDefault()\r\n        // if(!ev.target.value || ev.target.value.length) return\r\n        this.props.addReview(this.state.review)\r\n        // to continue\r\n        this.setState(prevState => ({\r\n            review: { ...prevState.review, id: null, txt: '', rate: null },\r\n            isReviewAddOpen: false\r\n        }))\r\n    }\r\n\r\n\r\n    render() {\r\n        // console.log(this.state.review)\r\n        // const { isReviewAddOpen } = this.state\r\n        return (\r\n            <div className=\"add-review\">\r\n                {/* {isReviewAddOpen && */}\r\n                    <form onSubmit={this.onAddReview}>\r\n                        <textarea placeholder=\"Share your experience here...\" onChange={this.handleChange} name=\"txt\"></textarea>\r\n                        <Rating onChange={this.handleChange} name=\"rate\" />\r\n                        <button className=\"btn-add-in-add\">Add</button>\r\n                        <button className=\"btn-cancel-in-add\"onClick={() => this.toggleAddReview()}>Cancel</button>\r\n                    </form>\r\n                {/* {!isReviewAddOpen && <button className=\"btn-add\" onClick={() => this.toggleAddReview()}>Add Review</button>} */}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","export default __webpack_public_path__ + \"static/media/emptyAvatar.e7be354a.svg\";","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Swal from 'sweetalert2'\r\nimport moment from \"moment\"\r\nimport { loadStay, saveStay } from '../store/actions/stayActions.js'\r\nimport { loadOrders, saveOrder } from '../store/actions/orderActions.js'\r\nimport { GoogleMap } from '../cmps/StayDetailsCmps/GoogleMap.jsx'\r\nimport { StayReviews } from '../cmps/StayDetailsCmps/StayReviews.jsx'\r\nimport { AmentiesList } from '../cmps/StayDetailsCmps/AmentiesList.jsx'\r\nimport { BookingModal } from '../cmps/StayDetailsCmps/BookingModal.jsx'\r\nimport { AddReview } from '../cmps/StayDetailsCmps/AddReview.jsx'\r\nimport { utilService } from '../services/utilService.js'\r\n\r\nimport {PageLoader} from '../cmps/commonCmps/PageLoader.jsx'\r\n\r\nexport class _StayDetails extends Component {\r\n\r\n    state = {\r\n        isToSeeAll: false,\r\n        isReviewAddOpen: false,\r\n        modalOpen: false,\r\n        // avgRate: null,\r\n        user: {\r\n            \"_id\": \"u1021\",\r\n            \"fullname\": \"Nisim David\",\r\n            // \"imgUrl\": \"https://randomuser.me/api/portraits/men/22.jpg\"\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const id = this.props.match.params.stayId\r\n        await this.props.loadStay(id)\r\n        /*console.log(this.props.currStay)*/\r\n        await this.props.loadOrders()\r\n        // this.setState({ avgRate: utilService.calRate(this.props.currStay.reviews) }) // bug then refrash\r\n    }\r\n\r\n    onSeeAll = () => {\r\n        this.setState({ isToSeeAll: !this.state.isToSeeAll })\r\n    }\r\n    addReview = async (review) => {\r\n        const copyStay = { ...this.props.currStay }\r\n        copyStay.reviews.unshift(review)\r\n        await this.props.saveStay(copyStay)\r\n        // this.setState({ isToSeeAll: false })\r\n        this.setState({ isReviewAddOpen: false })\r\n    }\r\n\r\n    getAvgRage = () => {\r\n        const avgRate = utilService.calRate(this.props.currStay.reviews)\r\n        return avgRate;\r\n\r\n    }\r\n\r\n    onReserve = async (tripeDetails) => {\r\n        // Swal.fire({\r\n        //     title: 'Thank you for your reservation!',\r\n        //     timer: 5000,\r\n        //    html: \r\n\r\n        //         `<div style=\"white-space: pre-line; font-family:Cereal-Normal;\">${this.props.currStay.name} in ${this.props.currStay.loc.address}\\n${moment(tripeDetails.startDate).format('LL')}-${moment(tripeDetails.startDate).format('LL')}\\nTotal price of $${tripeDetails.totalPrice}\\nCheck out your email for full details.<div>`\r\n\r\n        //     ,\r\n        //     icon: 'success',\r\n        //     timerProgressBar: true,\r\n        //     confirmButtonColor: '#FF5A5F'\r\n        // })\r\n\r\n        let timerInterval\r\n        Swal.fire({\r\n            title: 'Thank you for your reservation!',\r\n            html:  `<div style={{white-space: pre-line; font-family:Cereal-Normal}}>${this.props.currStay.name} in ${this.props.currStay.loc.city} \\n \\n${moment(tripeDetails.startDate).format('LL')}-${moment(tripeDetails.endDate).format('LL')}\\n\\n <div>`,\r\n            timer: 5000,\r\n            showConfirmButton:true,\r\n            confirmButtonColor: 'green',\r\n            timerProgressBar: true,\r\n        //     didOpen: () => {\r\n        //         Swal.showLoading()\r\n        //         timerInterval = setInterval(() => {\r\n        //             const content = Swal.getHtmlContainer()\r\n        //             if (content) {\r\n        //                 const b = content.querySelector('b')\r\n        //                 if (b) {\r\n        //                     b.textContent = Swal.getTimerLeft()\r\n        //                 }\r\n        //             }\r\n        //         }, 100)\r\n        //     },\r\n        //     willClose: () => {\r\n        //         clearInterval(timerInterval)\r\n        //     }\r\n        // })\r\n        })\r\n        const { currStay } = this.props\r\n        const order = utilService.createOrder(tripeDetails, this.state.user, currStay)\r\n        console.log('order in stay details', order);\r\n        await this.props.saveOrder(order)\r\n    }\r\n\r\n    toggleAddReview = () => {\r\n        this.setState({ isReviewAddOpen: !this.state.isReviewAddOpen })\r\n    }\r\n\r\n\r\n    render() {\r\n        const { currStay } = this.props\r\n        if (!currStay) return <div>Loading...</div>\r\n        return (\r\n            <div className=\"stay-details\">\r\n                <div className=\"stay-main-details\">\r\n                    <div className=\"stay-title\">{currStay.name}</div>\r\n                    <div >\r\n                        <i className=\"rate-star fas fa-star\"></i>\r\n                        <span className=\"rate-small\"><span className=\"rate-num\">{this.getAvgRage()}</span><span> ({currStay.reviews.length} reviews) </span></span>\r\n                        <span className=\"address\">{currStay.loc.address}</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"details-gallery grid\">\r\n                    {currStay.imgUrls.map((currStayImg, idx) => <img key={idx} className=\"stay-img\" src={currStayImg} />)}\r\n                </div>\r\n                <div className=\"booking-modal-details-container flex space-between\">\r\n                    <div class-name=\"stay-details\">\r\n                        <div className=\"secondary-dets\">\r\n                            <div className=\"dets-by-host\">{`Hosted by ${currStay.host.fullname}`}</div>\r\n                            <div>{`Up to ${currStay.capacity} Guests`}</div>\r\n                            {/* <img className=\"host-img\" src={currStay.host.imgUrl} /> */}\r\n                        </div>\r\n                        <p>{currStay.summary}</p>\r\n                        <div className=\"aments\">\r\n                            <div className=\"amenities-title\">Amenities</div>\r\n                            <AmentiesList aments={currStay.amenities} />\r\n                        </div>\r\n                    </div>\r\n                    <BookingModal currStay={currStay} trip={this.props.trip} onReserve={this.onReserve} avgRate={this.getAvgRage()} />\r\n                </div>\r\n                <div>\r\n                    <i className=\"rate-star fas fa-star\"></i>\r\n                    <span className=\"reviwes-header\"> {this.getAvgRage()} ({currStay.reviews.length} reviews)</span>\r\n                </div>\r\n                <StayReviews reviews={currStay.reviews} isToSeeAll={this.state.isToSeeAll} />\r\n                <div className=\"btns-review flex space-between\">\r\n                    <button className=\"btn-toggle-review\" onClick={() => this.onSeeAll()}>{(!this.state.isToSeeAll) ? 'See all Reviews' : 'hide'}</button>\r\n                    {!this.state.isReviewAddOpen && <button className=\"btn-add-review-dets\" onClick={() => this.toggleAddReview()}>Add Review</button>}\r\n                </div>\r\n                {this.state.isReviewAddOpen && <AddReview currStay={currStay} user={this.state.user} addReview={this.addReview} />}\r\n                <GoogleMap loc={currStay.loc} />\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        currStay: state.stayModule.currStay,\r\n        trip: state.tripModule.trip,\r\n        orders: state.orderModule.orders,\r\n        // users: state.usersModule.users\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    loadStay,\r\n    saveStay,\r\n    loadOrders,\r\n    saveOrder\r\n}\r\n\r\nexport const StayDetails = connect(mapStateToProps, mapDispatchToProps)(_StayDetails)","import React, { Component } from 'react'\r\n\r\nexport class StayEdit extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                im Edit page\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/search_btn.b3e13c4f.svg\";","import '../../assets/styles/font/fontawesome/css/all.css'\r\nexport function CitySearchModal({ countrys, onClickTxtModal }) {\r\nconsole.log('countrys:', countrys)\r\n\r\n\r\n    return (\r\n        <div className=\"location-choose-modal flex column\">\r\n            {(countrys.length) ? countrys.map((country, idx) =>\r\n                <div onClick={() => (onClickTxtModal(country))} className=\"flex\" style={{cursor:'pointer'}} key={idx} >\r\n                    <div  className=\"location-choose-modal-svg flex justify-center align-center\"><i className=\"fas fa-map-marker-alt\" ></i></div>\r\n\r\n                    <div  className=\"location-choose-modal-text flex justify-center align-center\" >{country}</div>\r\n                </div>\r\n            ) : <div>No location found</div>}\r\n\r\n        </div>\r\n    )\r\n\r\n}","export function GuestChoose({guestUpdate, guest }) {\r\n\r\n    function onGuestsUpdate(type, diff) {\r\n        guest[type] += diff\r\n        // console.log('guest[type]:', guest[type],type)\r\n        if ((guest.infants || guest.kids) && !guest.adults) guest.adults = 1\r\n        guestUpdate(guest)\r\n    }\r\n\r\n    return (\r\n        <div className=\"guest-choose flex column\">\r\n            <div className=\"guest-choose-line flex align-center space-between\">\r\n                <div className=\"text-warpper-line flex column\">\r\n                    <span className=\"text-warpper-line-first\">\r\n                        Adults:\r\n                    </span>\r\n                    <span className=\"text-warpper-line-sec\">\r\n                        Ages 13 or above\r\n                    </span>\r\n                </div>\r\n                <div className=\"guest-btn-warrper flex space-around\"><button disabled={!guest.adults} className=\"guest-btn-modal\"\r\n                    onClick={() => onGuestsUpdate('adults', -1)}>-</button>\r\n                    <span style={{ margin: \"2px\" }}>{guest.adults}</span>\r\n                    <button disabled={guest.adults === 16} className=\"guest-btn-modal\" onClick={() => onGuestsUpdate('adults', 1)}>+</button></div>\r\n            </div>         <div className=\"guest-choose-line flex align-center space-between\">\r\n                <div className=\"text-warpper-line flex column\">\r\n                    <span className=\"text-warpper-line-first\">\r\n                        Children:\r\n                    </span>\r\n                    <span className=\"text-warpper-line-sec\">\r\n                        Ages 2–12\r\n                    </span>\r\n                </div>\r\n                <div className=\"guest-btn-warrper flex space-around\"><button disabled={!guest.kids} className=\"guest-btn-modal\"\r\n                    onClick={() => onGuestsUpdate('kids', -1)}>-</button>\r\n                    <span style={{ margin: \"2px\" }}>{guest.kids}</span>\r\n                    <button disabled={guest.kids === 5} className=\"guest-btn-modal\" onClick={() => onGuestsUpdate('kids', 1)}>+</button></div>\r\n            </div>\r\n            <div className=\"guest-choose-line flex align-center space-between\">\r\n                <div className=\"text-warpper-line flex column\">\r\n                    <span className=\"text-warpper-line-first\">\r\n                        Infants:\r\n                    </span>\r\n                    <span className=\"text-warpper-line-sec\">\r\n                        Under 2\r\n                    </span>\r\n                </div>\r\n                <div className=\"guest-btn-warrper flex space-around\">\r\n                    <button className=\"guest-btn-modal\"\r\n                        onClick={() => onGuestsUpdate('infants', -1)} disabled={(!guest.infants)}>-</button>\r\n                    <span style={{ margin: \"2px\" }}>{guest.infants}</span>\r\n                    <button disabled={guest.infants === 5} className=\"guest-btn-modal\" onClick={() => onGuestsUpdate('infants', 1)}>+</button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* <button onClick={() => toggleChoose()} >X</button> */}\r\n\r\n        </div>\r\n    )\r\n\r\n}","import React, { Component } from 'react'\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n// import subDays from \"date-fns/subDays\"\r\n// console.log('subDays:', subDays)\r\n\r\nexport class DateRangePicker extends Component {\r\n\r\n    state = {\r\n        date: null,\r\n        startDate: null,\r\n        endDate: null,\r\n    }\r\n\r\n\r\n    setDateRange = (dates) => {\r\n        const [start, end] = dates;\r\n\r\n        this.setState({\r\n            startDate:\r\n                start, endDate: end\r\n        })\r\n        if (start && end) this.props.onToggleChoose('date-picker')\r\n        this.props.setDate(start, end)\r\n    }\r\n\r\n    render() {\r\n        const { startDate, endDate } = this.state;\r\n        return (\r\n            <div>\r\n                <DatePicker\r\n                    selected={null}\r\n                    onChange={(update) => {\r\n                        this.setDateRange(update);\r\n                    }}\r\n                    startDate={startDate}\r\n                    endDate={endDate}\r\n                    selectsRange={true}\r\n                    minDate={new Date()}\r\n                    monthsShown={2}\r\n                    inline\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n//     const [startDate, setStartDate] = useState(new Date(\"2014/02/08\"));\r\n//     const [endDate, setEndDate] = useState(new Date(\"2014/02/10\"));\r\n//     return (\r\n//       <>\r\n//         <DatePicker\r\n//           selected={startDate}\r\n//           onChange={(date) => setStartDate(date)}\r\n//           selectsStart\r\n//           startDate={startDate}\r\n//           endDate={endDate}\r\n//         />\r\n//         <DatePicker\r\n//           selected={endDate}\r\n//           onChange={(date) => setEndDate(date)}\r\n//           selectsEnd\r\n//           startDate={startDate}\r\n//           endDate={endDate}\r\n//           minDate={startDate}\r\n//         />\r\n//       </>\r\n//     );\r\n//   };\r\n// }","import { connect } from 'react-redux'\r\nimport { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport moment from \"moment\"\r\nimport search from '../../assets/svg/button/search_btn.svg'\r\nimport { loadStays } from '../../store/actions/stayActions.js'\r\nimport { updateTrip } from '../../store/actions/tripActions.js'\r\nimport { CitySearchModal } from '../HomeCmps/CitySearchModal.jsx'\r\nimport { GuestChoose } from '../HomeCmps/GuestChoose.jsx'\r\nimport { DateRangePicker } from '../commonCmps/DateRangePicker.jsx'\r\nimport { utilService } from '../../services/utilService.js'\r\n\r\nexport class _TripSettings extends Component {\r\n    state = {\r\n        trip: {\r\n            startDate: '',\r\n            endDate: '',\r\n            guest: {\r\n                adults: 0,\r\n                kids: 0,\r\n                infants: 0\r\n            },\r\n            countrys: '',\r\n        },\r\n        isDatePickerOpen: false,\r\n        isGuestChooseOpen: false,\r\n        isLocationChooseOpen: false\r\n\r\n    }\r\n    async componentDidMount() {\r\n        await this.props.loadStays()\r\n    }\r\n\r\n    handleChange = (ev) => {\r\n        console.log('ev:', ev)\r\n        this.setState(prevState => ({\r\n            trip: {\r\n                ...prevState.trip,\r\n                countrys: ev.target.value\r\n            }\r\n        }))\r\n        this.onFoucesModal()\r\n        // console.log(this.state.countrys)\r\n    }\r\n\r\n    onClickTxtModal = (val) => {\r\n        console.log('val:', val)\r\n        this.setState((prevState => ({\r\n            trip: {\r\n                ...prevState.trip,\r\n                countrys: val\r\n            },\r\n        })))\r\n        this.onToggleChoose('date-picker')\r\n    }\r\n\r\n    getAllStays = () => {\r\n        const arr = this.props.stays.filter(item => item.loc.city.toLowerCase().includes(this.state.trip.countrys.toLowerCase()))\r\n            .map(arr => arr.loc.city).filter((value, index, self) => self.indexOf(value) === index)\r\n        return arr\r\n\r\n    }\r\n\r\n    onToggleChoose = (choose) => {\r\n        if (choose === 'location') this.setState({\r\n            isLocationChooseOpen: !this.state.isLocationChooseOpen,\r\n            isDatePickerOpen: false,\r\n            isGuestChooseOpen: false\r\n        })\r\n        if (choose === 'guest') this.setState({\r\n            isGuestChooseOpen: !this.state.isGuestChooseOpen,\r\n            isDatePickerOpen: false,\r\n            isLocationChooseOpen: false\r\n        })\r\n        if (choose === 'date-picker') this.setState({\r\n            isDatePickerOpen: !this.state.isDatePickerOpen,\r\n            isGuestChooseOpen: false,\r\n            isLocationChooseOpen: false\r\n        })\r\n    }\r\n    onClearBtn = (ev, type) => {\r\n        ev.stopPropagation()\r\n\r\n        switch (type) {\r\n            case 'txt-btn':\r\n                ev.target.value = ''\r\n                break\r\n            case 'guest-btn':\r\n                this.setState((prevState => ({\r\n                    trip: {\r\n                        ...prevState.trip,\r\n                        guest: {\r\n                            adults: 0,\r\n                            kids: 0,\r\n                            infants: 0\r\n                        }\r\n                    },\r\n                    isGuestChooseOpen: false\r\n                })))\r\n\r\n\r\n                break;\r\n            default:\r\n                console.log('no good')\r\n\r\n        }\r\n    }\r\n\r\n    guestUpdate = (guest) => {\r\n        this.setState(prevState => ({\r\n            trip: {\r\n                ...prevState.trip,\r\n                guest\r\n            }\r\n        }))\r\n    }\r\n\r\n\r\n    setDate = (startDate, endDate) => {\r\n        this.setState(prevState => ({\r\n            trip: {\r\n                ...prevState.trip,\r\n                startDate,\r\n                endDate\r\n            }\r\n        }))\r\n    }\r\n    onFoucesModal = () => {\r\n        this.setState({\r\n            isLocationChooseOpen: true,\r\n            isDatePickerOpen: false,\r\n            isGuestChooseOpen: false\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { trip, isGuestChooseOpen, isDatePickerOpen, isLocationChooseOpen } = this.state\r\n        const guestAmount = utilService.getAmount(trip.guest,'guest', true)\r\n        const filterPlaces = this.getAllStays()\r\n        return (\r\n            <div className=\"filter-warper\">\r\n                <button className=\"filter-warper-input-txt\" onClick={() => this.onToggleChoose('location')}>\r\n                    {/* <button className=\"btn-clear-search\" onClick={(e) => this.onClearBtn(e, 'guest-btn')}></button> */}\r\n                    <div className=\"picker-date-btn-first-line\">Location</div>\r\n                    <input onClick={() => this.onFoucesModal } placeholder=\"Where are you going?\" type=\"search\" list=\"places\" value={trip.countrys} onChange={this.handleChange} autoComplete=\"off\" />\r\n                </button>\r\n                {isLocationChooseOpen && filterPlaces && <CitySearchModal\r\n                    // guestUpdate={this.guestUpdate}\r\n                    countrys={filterPlaces}\r\n                    onClickTxtModal={this.onClickTxtModal} />}\r\n                {/* <input autoFocus onClick={() => this.setState({ isGuestChooseOpen: false, isDatePickerOpen: false })} className=\"filter-warper-input-txt\" placeholder=\"Where are you going?\" type=\"search\" list=\"places\" onChange={this.handleChange} autoComplete=\"off\" />\r\n\r\n                <datalist id=\"places\">\r\n                    {filterPlaces.map((place, key) =>\r\n                        <option key={key} value={place} />\r\n                    )}\r\n                </datalist> */}\r\n\r\n                <button className=\"picker-date-btn\" onClick={() => this.onToggleChoose('date-picker')}>\r\n                    <div className=\"picker-date-btn-first-line\">Pick a Date</div>\r\n                    {trip.startDate  && `${moment(trip.startDate).format('LL')}`}\r\n                    {!trip.startDate && <div><div className=\"picker-date-btn-sec-line\">Check-in</div> </div>}\r\n                </button>\r\n\r\n                <button className=\"picker-date-btn\" onClick={() => this.onToggleChoose('date-picker')}>\r\n                    <div className=\"picker-date-btn-first-line\">Pick a Date</div>\r\n                    {trip.endDate && `${moment(trip.endDate).format('LL')}`}\r\n            \r\n                    {!trip.endDate &&<div><div className=\"picker-date-btn-sec-line\">Check-out</div> </div>}\r\n                </button>\r\n                <div className=\"flex\" style={{ position: \"absolute\", zIndex: 20, top: '100%', right: \"13%\" }}>\r\n                    {isDatePickerOpen && <DateRangePicker style={{ backgroundColor: 'red' }} setDate={this.setDate}\r\n                        onToggleChoose={this.onToggleChoose} />}</div>\r\n\r\n                <button className=\"is-guest-choose\" onClick={() => this.onToggleChoose('guest')}>\r\n                    {/* <button className=\"btn-clear-search\" onClick={(e) => this.onClearBtn(e, 'guest-btn')}></button> */}\r\n                    <div className=\"picker-date-btn-first-line\">Guests</div>\r\n                    {guestAmount ? guestAmount : <div className=\"picker-date-btn-sec-line\">Add guests</div>}\r\n                </button>\r\n                {isGuestChooseOpen && <GuestChoose\r\n                    guestUpdate={this.guestUpdate}\r\n                    guest={trip.guest} />}\r\n                <Link className=\"search-warrper flex flex-end align-center\" to={`/stay/${this.state.trip.countrys.split(',')[0]}${this.state.trip.startDate}`}>\r\n                    <button className=\"search-btn flex justify-center\" onClick={() => this.props.updateTrip(trip)}>\r\n                        <img src={search} alt=\"\" /></button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        stays: state.stayModule.stays,\r\n        currstay: state.stayModule.currstay\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadStays,\r\n    updateTrip\r\n}\r\n\r\nexport const TripSettings = connect(mapStateToProps, mapDispatchToProps)(_TripSettings)","\r\nexport function updateTrip(trip) {\r\n    return async dispatch => {\r\n        try {\r\n            dispatch({ type:'SET_TRIP', trip })\r\n        } catch (err) {\r\n            dispatch({ type:'SET_ERR', err })\r\n            console.log('tripActions: err in trip stays', err)\r\n        }\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/Madrid.175764cd.jpg\";","export default __webpack_public_path__ + \"static/media/spain.f7d23081.jpg\";","export default __webpack_public_path__ + \"static/media/TelAviv.1f0b5b17.jpg\";","export default __webpack_public_path__ + \"static/media/Paris.a15bddb9.jpg\";","export default __webpack_public_path__ + \"static/media/newYork.1c1cbdd4.jpg\";","import { Link } from 'react-router-dom';\r\nimport spain from '../../assets/img/popular/spain.jpg'\r\nimport Madrid from '../../assets/img/popular/Madrid.jpg'\r\nimport TelAviv from '../../assets/img/popular/TelAviv.jpg'\r\nimport Paris from '../../assets/img/popular/Paris.jpg'\r\nimport NewYork from '../../assets/img/popular/newYork.jpg'\r\n\r\n\r\nexport function PopularPlaces() {\r\n    const popularLoc = [\r\n        {\r\n            name: 'New York',\r\n            pic: NewYork\r\n        },\r\n         {\r\n            name: 'Madrid',\r\n            pic: Madrid\r\n        }\r\n        ,\r\n        {\r\n            name: 'Tel Aviv',\r\n            pic: TelAviv\r\n        }\r\n        ,\r\n        {\r\n            name: 'Paris',\r\n            pic: Paris\r\n        }\r\n    ]\r\n    return (\r\n        <div className=\"popular-places-list grid \">\r\n            {popularLoc.map(location =>\r\n                <div key={location.name} className=\"popular-places-preview\" >\r\n                    <Link to={`/stay/${location.name}`} className=\"clean-list\">\r\n                        <img src={location.pic} />\r\n                        <h5 className=\"popular-places-preview-location\"> {location.name}</h5>\r\n                    </Link>\r\n                </div>)}\r\n        </div>\r\n    )\r\n}","import React, { useEffect, useCallback, useRef } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { loadStays, loadStay } from '../store/actions/stayActions'\r\nimport { TripSettings } from '../cmps/HomeCmps/TripSettings'\r\nimport { PopularPlaces } from '../cmps/HomeCmps/PopularPlaces'\r\nimport { StayList } from '../cmps/ExploreCmps/StayList'\r\n\r\nexport const HomePage = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        dispatch(loadStays())\r\n    }, [])\r\n    const { stays } = useSelector(state => state.stayModule)\r\n\r\n\r\nreturn (\r\n\r\n    <div className=\"main-homepage\">\r\n        <div className=\"trip-filter \">\r\n            <TripSettings />\r\n        </div>\r\n        <div className=\"hero-text\">Come, stay and enjoy your day<span>.</span></div>\r\n        <div className=\"hero-sector\">\r\n            <div className=\"hero-image\">\r\n            </div>\r\n        </div>\r\n        <div className=\"main-homepage-wrapper\">\r\n            <div className=\"popular-places\">\r\n                <h2 className=\"popular-places-headline\" >Popular Places</h2>\r\n                <PopularPlaces />\r\n            </div>\r\n            <div className=\"see-all flex flex-end\">\r\n                <Link className=\"see-all clean-list\" to='/stay'>See All</Link>\r\n            </div>\r\n            <div className=\"top-rated\">\r\n                <h2>Top Rated Stays</h2>\r\n                <StayList stays={stays} isTopRated={true} />\r\n            </div>\r\n            <div className=\"see-all flex flex-end\">\r\n                <Link className=\"see-all clean-list\" to='/stay'>See All</Link>\r\n            </div>\r\n        </div>\r\n        <div className=\"home-banner\">\r\n            <div className=\"content-banner\">\r\n                <h2>\"Home is where your story begins.\"</h2>\r\n                <h5>-Annie Danielson</h5>\r\n                <Link className=\"clean-list\" to=\"/stay\"> <button>Let's go! <i className=\"far fa-hand-point-left\"></i></button></Link>\r\n                <div className=\"content-banner-2\"><h4>\"And all you need is a passport!\"</h4></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n)\r\n}\r\n// class _HomePage extends Component {\r\n//     state = {\r\n//         popular: [{\r\n//             name: 'New York',\r\n//             pic: NewYork\r\n//         }, {\r\n//             name: 'Madrid',\r\n//             pic: Madrid\r\n//         },\r\n//         {\r\n//             name: 'Tel Aviv',\r\n//             pic: TelAviv\r\n//         },\r\n//         {\r\n//             name: 'Paris',\r\n//             pic: Paris\r\n//         }\r\n//         ]\r\n//         ,\r\n//     }\r\n//     async componentDidMount() {\r\n//         await this.props.loadStays()\r\n//     }\r\n\r\n//     render() {\r\n//         return (\r\n//             <div className=\"main-homepage\">\r\n//                 <div className=\"trip-filter \">\r\n//                     <TripSettings />\r\n//                 </div>\r\n//                 <div className=\"hero-text\">Come, stay and enjoy your day<span>.</span></div>\r\n//                 <div className=\"hero-sector\">\r\n//                     <div className=\"hero-image\">\r\n//                     </div>\r\n//                 </div>\r\n//                 <div className=\"main-homepage-wrapper\">\r\n//                     <div className=\"popular-places\">\r\n//                         <h2 className=\"popular-places-headline\" >Popular Places</h2>\r\n//                         <PopularPlaces popularLoc={this.state.popular} />\r\n//                     </div>\r\n//                     <div className=\"see-all flex flex-end\">\r\n//                         <Link className=\"see-all clean-list\" to='/stay'>See All</Link>\r\n//                     </div>\r\n//                     <div className=\"top-rated\">\r\n//                         <h2>Top Rated Stays</h2>\r\n//                         <TopRated stays={this.props.stays} topRatedIds={this.state.topRatedIds} />\r\n//                     </div>\r\n//                     <div className=\"see-all flex flex-end\">\r\n//                         <Link className=\"see-all clean-list\" to='/stay'>See All</Link>\r\n//                     </div>\r\n//                 </div>\r\n//                 <div className=\"home-banner\">\r\n//                     <div className=\"content-banner\">\r\n//                         <h2>\"Home is where your story begins.\"</h2>\r\n//                         <h5>-Annie Danielson</h5>\r\n//                         <Link className=\"clean-list\" to=\"/stay\"> <button>Let's go! <i className=\"far fa-hand-point-left\"></i></button></Link>\r\n//                         <div className=\"content-banner-2\"><h4>\"And all you need is a passport!\"</h4></div>\r\n//                     </div>\r\n//                 </div>\r\n//                             </div>\r\n\r\n//         )\r\n//     }\r\n// }\r\n\r\n// const mapStateToProps = state => {\r\n//     return {\r\n//         stays: state.stayModule.stays,\r\n//         currstay: state.stayModule.currstay,\r\n//         isLoading: state.systemModule.isLoading\r\n//     }\r\n// }\r\n// const mapDispatchToProps = {\r\n//     loadStays,\r\n//     loadStay\r\n// }\r\n\r\n// export const HomePage = connect(mapStateToProps, mapDispatchToProps)(_HomePage)","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { loadOrders, setOrderStatus,saveOrder } from '../store/actions/orderActions.js'\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport moment from \"moment\"\r\n// import { Dashboard } from '../cmps/Dashboard.jsx'\r\nimport { orderService } from '../services/orderService.js';\r\nimport { ListItemText } from '@material-ui/core';\r\n\r\n\r\nclass _Orders extends Component {\r\n    state = {\r\n        afterOrderStatus: false,\r\n        hostOrders: [],\r\n        hostAvatar: '',\r\n        hostName: '',\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await this.props.loadOrders()\r\n        const hostOrders = await orderService.getOrderByHost('u103')\r\n        console.log('host orders',hostOrders);\r\n        const { hostAvatar, hostName } = hostOrders[0]\r\n        this.setState({ hostOrders, hostAvatar, hostName })\r\n        if (!this.props.loggedInUser) this.props.history.push('/login')\r\n    }\r\n\r\n    getGuests = (order) => {\r\n        const { guests } = order\r\n        return Object.values(guests).reduce((a, b) => a + b)\r\n    }\r\n\r\n    getNights = (order) => {\r\n        // console.log('order.createdAt', order.createdAt);\r\n        let a = moment(order.startDate)\r\n        let b = moment(order.endDate)\r\n        const diff = Math.round(moment.duration(b.diff(a)).asDays())\r\n        return diff\r\n    }\r\n    orderStatus = (order) => {\r\n        if (order.status === 'accepted') {\r\n            return <i className=\"fas fa-check-circle\"></i>\r\n        } else if (order.status === 'rejected') {\r\n            return <i className=\"fas fa-times-circle\"></i>\r\n        } else {\r\n            return <div>\r\n                <button className=\"btn-accept\" onClick={() => this.orderStatusToSave(order, 'accepted')}><i className=\"far fa-calendar-check\"></i></button>\r\n                <button className=\"btn-reject\" onClick={() => this.orderStatusToSave(order, 'rejected')}><i className=\"far fa-calendar-times\"></i></button>\r\n            </div>\r\n        }\r\n    }\r\n\r\n    orderStatusToSave = (order, orderStatus) => {\r\n        order.status = orderStatus\r\n        this.props.setOrderStatus(order)\r\n        this.props.saveOrder(order)\r\n        this.setState({ afterOrderStatus: !this.state.afterOrderStatus })\r\n    }\r\n\r\n    reservationTime = (order) => {\r\n        // const time = order.createdAt\r\n        // console.log('time', time)\r\n        const returnTime = moment(order.createdAt).format(\"DD MMM YYYY\")\r\n        // console.log('order.createdAt', returnTime)\r\n        return returnTime\r\n    }\r\n\r\n\r\n    // rowColor = (order) => {\r\n    //     if (order.status === 'pending') return 'pink'\r\n    //     // return 'grey'\r\n    // }\r\n\r\n\r\n    render() {\r\n\r\n        const { orders } = this.props\r\n        const { hostAvatar, hostOrders, hostName } = this.state\r\n        // console.log('orders in order page',orders);\r\n        if (!orders || orders.length === 0) return <div>LOADING...</div>\r\n        return (\r\n            <React.Fragment>\r\n                {/* <div>charts</div> */}\r\n                <div className=\"order-table-pic flex column\">\r\n\r\n                    <div className=\"user-pic flex column \">\r\n                        {/* <Dashboard orders={orders} /> */}\r\n                        <img src={hostAvatar} />\r\n                        <span className=\"user-name flex\">{hostName}</span>\r\n                    </div>\r\n                    <div className=\"profile-table flex justify-center align-center\">\r\n\r\n                        <TableContainer component={Paper}>\r\n                            <Table aria-label=\"simple table\" style={{ minWidth: '650px'}}>\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell style={{ padding: '10px', align: \"left\" }} >Reservation Date</TableCell>\r\n                                        <TableCell style={{ padding: '10px', align: \"left\" }}>Stay</TableCell>\r\n                                        <TableCell style={{ padding: '10px', align: \"left\" }}>Stay Name</TableCell>\r\n                                        <TableCell style={{ padding: '10px', align: \"left\" }}>Booker</TableCell>\r\n                                        <TableCell style={{ padding: '10px', align: \"left\" }}>Trip Date</TableCell>\r\n                                        <TableCell style={{ padding: '10px', textAlign: \"center\" }}>Nights</TableCell>\r\n                                        <TableCell style={{ padding: '10px', textAlign: \"center\" }}>Guests</TableCell>\r\n                                        <TableCell style={{ padding: '10px', textAlign: \"center\" }} >Amount</TableCell>\r\n                                        <TableCell style={{ padding: '10px', textAlign: \"center\" }} >Status</TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {hostOrders.map((order) => (\r\n\r\n                                        < TableRow key={order._id}>\r\n                                            <TableCell component=\"th\" scope=\"row\">{this.reservationTime(order)}</TableCell>\r\n                                            <TableCell align=\"left\" ><img src={order.stay.picture} /></TableCell>\r\n                                            <TableCell align=\"left\">{order.stay.name}</TableCell>\r\n                                            <TableCell align=\"left\">{order.buyer.fullname}</TableCell>\r\n                                            <TableCell align=\"left\">{order.startDate} - {order.endDate}</TableCell>\r\n                                            <TableCell align=\"center\">{this.getNights(order)}</TableCell>\r\n                                            <TableCell align=\"center\">{this.getGuests(order)}</TableCell>\r\n                                            <TableCell align=\"center\">${order.totalPrice}</TableCell>\r\n                                            <TableCell align=\"center\">{this.orderStatus(order)}</TableCell>\r\n                                        </TableRow>\r\n                                    ))}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </TableContainer>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment >\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        orders: state.orderModule.orders,\r\n        // users: state.userModule.users,\r\n        loggedInUser: state.userModule.loggedInUser,\r\n    }\r\n}\r\nconst mapDispatchToProps = {\r\n    loadOrders,\r\n    setOrderStatus,\r\n    saveOrder\r\n}\r\n\r\nexport const Orders = connect(mapStateToProps, mapDispatchToProps)(_Orders)","// import { storageService } from './asyncStorageService'\r\nimport { httpService } from './http.service.js'\r\nconst gUsers = require('../data/users.json')\r\nconst STORAGE_KEY = 'USER_KEY'\r\n\r\nexport const userService = {\r\n    login,\r\n    logout,\r\n    signup,\r\n    getUsers,\r\n    getById,\r\n    remove,\r\n    update,\r\n    getLoggedinUser,\r\n}\r\n\r\nwindow.userService = userService\r\n// Note: due to async, must run one by one...\r\n// userService.signup({fullname: 'Puki Norma', username: 'user1', password:'123',score: 100, isAdmin: false})\r\n// userService.signup({fullname: 'Master Adminov', username: 'admin', password:'123', score: 100, isAdmin: true})\r\n\r\nfunction getUsers() {\r\n    console.log('in get users');\r\n    // return storageService.query(STORAGE_KEY,gUsers)\r\n    return httpService.get(`user`)\r\n}\r\n\r\nfunction getById(userId) {\r\n    // return storageService.get(STORAGE_KEY, userId)\r\n    return httpService.get(`user/${userId}`)\r\n}\r\nfunction remove(userId) {\r\n    // return storageService.remove(STORAGE_KEY, userId)\r\n    return httpService.delete(`user/${userId}`)\r\n}\r\n\r\nasync function update(user) {\r\n    // return storageService.put(STORAGE_KEY, user)\r\n    user = await httpService.put(`user/${user._id}`, user)\r\n    // Handle case in which admin updates other user's details\r\n    // if (getLoggedinUser()._id === user._id) _saveLocalUser(user)\r\n}\r\n\r\n// async function increaseScore(by = SCORE_FOR_REVIEW) {\r\n//     const user = getLoggedinUser()\r\n//     user.score = user.score + by || by\r\n//     await update(user)\r\n//     return user.score\r\n// }\r\n\r\nasync function login(userCred) {\r\n    // const users = await storageService.query(STORAGE_KEY)\r\n    // const user = users.find(user => user.username === userCred.username)\r\n    // return _saveLocalUser(user)\r\n\r\n    const user = await httpService.post('auth/login', userCred)\r\n    if (user) return _saveLocalUser(user)\r\n}\r\nasync function signup(userCred) {\r\n    // const user = await storageService.post(STORAGE_KEY, userCred)\r\n    const user = await httpService.post('auth/signup', userCred)\r\n    return _saveLocalUser(user)\r\n}\r\nasync function logout() {\r\n    // console.log('in service');\r\n    sessionStorage.clear()\r\n    return await httpService.post('auth/logout')\r\n}\r\nfunction _saveLocalUser(user) {\r\n    sessionStorage.setItem('loggedinUser', JSON.stringify(user))\r\n    return user\r\n}\r\n\r\nfunction getLoggedinUser() {\r\n    return JSON.parse(sessionStorage.getItem('loggedinUser'))\r\n}\r\n\r\n","import { userService } from '../../services/userService.js'\r\n\r\n\r\nexport function login(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.login(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in login', err)\r\n    }\r\n  }\r\n}\r\nexport function signup(userCreds) {\r\n  return async dispatch => {\r\n    try {\r\n      const user = await userService.signup(userCreds)\r\n      dispatch({ type: 'SET_USER', user })\r\n    } catch (err) {\r\n      console.log('UserActions: err in signup', err)\r\n    }\r\n  }\r\n}\r\nexport function logout() {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.logout()\r\n      dispatch({ type: 'SET_USER', user: null })\r\n    } catch (err) {\r\n      console.log('UserActions: err in logout', err)\r\n    }\r\n  }\r\n}\r\nexport function loadUsers() {\r\n  return async dispatch => {\r\n    try {\r\n      dispatch({ type: 'LOADING_START' })\r\n      const users = await userService.getUsers()\r\n      dispatch({ type: 'SET_USERS', users })\r\n    } catch (err) {\r\n      console.log('UserActions: err in loadUsers', err)\r\n    } finally {\r\n      dispatch({ type: 'LOADING_DONE' })\r\n    }\r\n  }\r\n}\r\n\r\nexport function removeUser(userId) {\r\n  return async dispatch => {\r\n    try {\r\n      await userService.remove(userId)\r\n      dispatch({ type: 'REMOVE_USER', userId })\r\n    } catch (err) {\r\n      console.log('UserActions: err in removeUser', err)\r\n    }\r\n  }\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport {\r\n  loadUsers,\r\n  // removeUser,\r\n  login,\r\n  logout,\r\n  signup\r\n} from '../store/actions/userActions'\r\n\r\nclass _LoginSignup extends Component {\r\n  state = {\r\n    msg: '',\r\n    loginCred: {\r\n      username: '',\r\n      password: ''\r\n    },\r\n    signupCred: {\r\n      username: '',\r\n      password: '',\r\n      fullname: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.loadUsers()\r\n  }\r\n\r\n  loginHandleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => ({\r\n      loginCred: {\r\n        ...prevState.loginCred,\r\n        [name]: value\r\n      }\r\n    }))\r\n  }\r\n\r\n  signupHandleChange = ev => {\r\n    const { name, value } = ev.target\r\n    this.setState(prevState => ({\r\n      signupCred: {\r\n        ...prevState.signupCred,\r\n        [name]: value\r\n      }\r\n    }))\r\n  }\r\n\r\n  doLogin = async ev => {\r\n    ev.preventDefault()\r\n    const { username, password } = this.state.loginCred\r\n    if (!username) {\r\n      return this.setState({ msg: 'Please enter user/password' })\r\n    }\r\n    const userCreds = { username, password }\r\n    try {\r\n      this.props.login(userCreds)\r\n      this.setState({ loginCred: { username: '', password: '' } })\r\n    } catch (err) {\r\n      this.setState({ msg: 'Login failed, try again.' })\r\n    }\r\n  }\r\n\r\n  doSignup = async ev => {\r\n    ev.preventDefault()\r\n    const { username, password, fullname } = this.state.signupCred\r\n    if (!username || !password || !fullname) {\r\n      return this.setState({ msg: 'All inputs are required' })\r\n    }\r\n    const signupCreds = { username, password, fullname }\r\n    this.props.signup(signupCreds)\r\n    this.setState({ signupCred: { username: '', password: '', fullname: '' } })\r\n  }\r\n\r\n  removeUser = userId => {\r\n    this.props.removeUser(userId)\r\n  }\r\n  render() {\r\n    let signupSection = (\r\n      <form className=\"frm\" onSubmit={this.doSignup}>\r\n        <h2>Signup</h2>\r\n        <input\r\n          type=\"text\"\r\n          name=\"fullname\"\r\n          value={this.state.signupCred.fullname}\r\n          onChange={this.signupHandleChange}\r\n          placeholder=\"Full name\"\r\n          autoComplete=\"fullname\"\r\n        />\r\n        <input\r\n          name=\"password\"\r\n          type=\"password\"\r\n          value={this.state.signupCred.password}\r\n          onChange={this.signupHandleChange}\r\n          placeholder=\"Password\"\r\n          autoComplete=\"current-password\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={this.state.signupCred.username}\r\n          onChange={this.signupHandleChange}\r\n          placeholder=\"Username\"\r\n          autoComplete=\"username\"\r\n        />\r\n        <br />\r\n        <button>Signup</button>\r\n      </form>\r\n    )\r\n    let loginSection = (\r\n      <form className=\"frm\" onSubmit={this.doLogin}>\r\n        <h2>Login</h2>\r\n        <select\r\n          name=\"username\"\r\n          value={this.state.loginCred.username}\r\n          onChange={this.loginHandleChange}\r\n        >\r\n          <option value=\"\">Select User</option>\r\n          {this.props.users && this.props.users.map(user => <option key={user._id} value={user.username}>{user.fullname}</option>)}\r\n        </select>\r\n\r\n        {/* <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={this.state.loginCred.username}\r\n          onChange={this.loginHandleChange}\r\n          placeholder=\"Username\"\r\n        />\r\n        <br />\r\n        <input\r\n          type=\"password\"\r\n          name=\"password\"\r\n          value={this.state.loginCred.password}\r\n          onChange={this.loginHandleChange}\r\n          placeholder=\"Password\"\r\n        />\r\n        <br /> */}\r\n        <button>Login</button>\r\n      </form>\r\n    )\r\n\r\n    const { loggedInUser } = this.props\r\n    return (\r\n      <div className=\"login\">\r\n        <h1>\r\n          Login / Signup\r\n        </h1>\r\n        <p>{this.state.msg}</p>\r\n        {loggedInUser && (\r\n          <div>\r\n            <h3>\r\n              Welcome {loggedInUser.fullname}\r\n              <button onClick={this.props.logout}>Logout</button>\r\n            </h3>\r\n          </div>\r\n        )}\r\n        {!loggedInUser && loginSection}\r\n        {!loggedInUser && signupSection}\r\n\r\n        <hr />\r\n        {/* <section className=\"admin\">\r\n          <details>\r\n            <summary>Admin</summary>\r\n            <button onClick={this.props.loadUsers}>Refresh Users</button>\r\n            {this.props.isLoading && 'Loading...'}\r\n            {this.props.users && <ul>\r\n\r\n              {this.props.users.map(user => (\r\n                <li key={user._id}>\r\n                  <pre>{JSON.stringify(user, null, 2)}</pre>\r\n                  <button\r\n                    onClick={() => {\r\n                      this.removeUser(user._id)\r\n                    }}\r\n                  >\r\n                    Remove {user.username}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n            </ul>}\r\n          </details>\r\n        </section> */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    users: state.userModule.users,\r\n    loggedInUser: state.userModule.loggedInUser,\r\n    isLoading: state.systemModule.isLoading\r\n  }\r\n}\r\nconst mapDispatchToProps = {\r\n  login,\r\n  logout,\r\n  signup,\r\n  loadUsers\r\n}\r\n\r\nexport const LoginSignup = connect(mapStateToProps, mapDispatchToProps)(_LoginSignup)\r\n","import {StayApp} from './pages/StayApp.jsx'\r\nimport {StayDetails} from './pages/StayDetails.jsx'\r\nimport {StayEdit} from './pages/StayEdit.jsx'\r\nimport {HomePage} from './pages/HomePage.jsx'\r\nimport {Orders} from './pages/Orders.jsx'\r\nimport {LoginSignup} from './pages/LoginSignup.jsx'\r\n// import {LoginSignup} from './pages/LoginSignup.jsx'\r\n\r\nexport const routes = [\r\n    {\r\n        path: '/stay/edit/:stayId?',\r\n        component: StayEdit\r\n    },\r\n    {\r\n        path: '/stay/details/:stayId',\r\n        component: StayDetails\r\n    },\r\n    {\r\n        path:'/stay/:city',\r\n        component: StayApp\r\n    },\r\n    {\r\n        path:'/stay',\r\n        component: StayApp\r\n    },\r\n    {\r\n        path:'/',\r\n        component: HomePage\r\n    },\r\n    {\r\n        path: '/user/order',\r\n        component: Orders\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: LoginSignup\r\n    }\r\n\r\n]\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport function UserMenu({ toggleProfile, logout, loggedInUser }) {\r\n  return (\r\n\r\n    <div className=\"hamburger\" onClick={() => toggleProfile()}>\r\n      {loggedInUser && <div className=\"user-link\"><Link to=\"/user/order\" className=\"clean-list\">Profile</Link></div>}\r\n      {!loggedInUser && <div className=\"user-link\"><Link to=\"/login\" className=\"clean-list\">Login</Link></div>}\r\n      {loggedInUser && <div className=\"user-link\" onClick={() => logout()}><Link to=''>Logout</Link></div>}\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/hamburger.31382ddf.svg\";","import React, { Component } from 'react'\r\nimport { NavLink, withRouter } from 'react-router-dom'\r\nimport { UserMenu } from './UserMenu.jsx'\r\nimport emptyAvatar from '../assets/svg/appHeader/emptyAvatar.svg'\r\nimport hamburger from '../assets/svg/appHeader/hamburger.svg'\r\nimport logo from '../assets/img/Logo/logo-fit.png'\r\n\r\nclass _AppHeader extends Component {\r\n    state = {\r\n        userProfileToggle: false,\r\n        headerClass: \"\"\r\n    }\r\n\r\n    toggleProfile = () => {\r\n        this.setState({ userProfileToggle: !this.state.userProfileToggle })\r\n    }\r\n\r\n    getHeaderClass = () => {\r\n        return this.props.location.pathname !== \"/\" ? \"white main-header main-layout full\" : \"main-header main-layout full\"\r\n    }\r\n\r\n    isUserAvatar = () => {\r\n        if (this.props.loggedInUser) {\r\n            return <img className=\"avatar-home-user\" onClick={() => this.toggleProfile()} src=\"https://randomuser.me/api/portraits/women/40.jpg\" />\r\n        } else {\r\n            return <img className=\"avatar-home\" onClick={() => this.toggleProfile()} src=\"https://res.cloudinary.com/daqn5x9jq/image/upload/v1622931073/image%20airbnb/u1023.jpg\" />\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <header className={this.getHeaderClass()} >\r\n                <div className=\"main-header-wrapper flex space-between\">\r\n                    <div className=\"logo\"><NavLink exact to=\"/\"><img src={logo} /></NavLink></div>\r\n                    <nav className=\"main-nav flex align-center space-between\">\r\n                        <NavLink exact to=\"/stay\" className=\"clean-list\"> Explore </NavLink>\r\n                        <NavLink exact to=\"/\" className=\"clean-list\"> Become a Host </NavLink>\r\n                        <div className=\"user-menu flex align-center\">\r\n                            <img className=\"hamburger-header\" onClick={() => this.toggleProfile()} src={hamburger} />\r\n                            {this.isUserAvatar()}\r\n                            {this.state.userProfileToggle && <UserMenu\r\n                                loggedInUser={this.props.loggedInUser}\r\n                                logout={this.props.logout}\r\n                                toggleProfile={this.toggleProfile} />}\r\n                            {/* <div className=\"user-menu flex align-center\">\r\n                        <NavLink exact to=\"/user/Order\" className=\"clean-list\"><i class=\"fas fa-bars\"></i>\r\n                            <img className=\"avatar-home\" src=\"https://randomuser.me/api/portraits/men/14.jpg\" /></NavLink> */}\r\n                        </div>\r\n                    </nav>\r\n                </div>\r\n            </header >\r\n        )\r\n    }\r\n}\r\n\r\nexport const AppHeader = withRouter(_AppHeader)","export default \"data:image/png;base64,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\"","export function Footer() {\r\n    return (\r\n        <footer className=\"main-footer main-layout full\">\r\n            <p>\r\n              BnBfy,Inc <i className=\"far fa-copyright\"></i>-All rights reserved <i className=\"far fa-copyright\"></i>         \r\n            </p>\r\n        </footer>\r\n    )\r\n}\r\n","import { Route } from 'react-router-dom'\r\nimport { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { routes } from './routes.js'\r\nimport { AppHeader } from './cmps/AppHeader.jsx'\r\nimport{logout} from './store/actions/userActions'\r\nimport { Footer } from './cmps/AppFooter.jsx'\r\n\r\nclass _App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"main-container main-layout\" >\r\n        <AppHeader logout={ logout} loggedInUser={ this.props.loggedInUser}/>\r\n        {routes.map(route => <Route key={route.path} exact component={route.component} path={route.path} />)}\r\n        <Footer />\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    stays: state.stayModule.stays,\r\n    loggedInUser:state.userModule.loggedInUser\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\n\r\nexport const App = connect(mapStateToProps, mapDispatchToProps)(_App)\r\n\r\n\r\n\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter as Router } from 'react-router-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { store } from './store/store.js'\r\nimport './assets/styles/main.scss';\r\nimport { App } from './App.jsx';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router>\r\n      <App />\r\n    </Router>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}